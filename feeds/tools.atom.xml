<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>1+1=10</title><link href="http://blog.debao.me/" rel="alternate"></link><link href="http://blog.debao.me/feeds/tools.atom.xml" rel="self"></link><id>http://blog.debao.me/</id><updated>2015-06-22T15:27:00+08:00</updated><entry><title>Joomla!笔记2</title><link href="http://blog.debao.me/zh/2015/06/notes-on-joomla-part2/" rel="alternate"></link><updated>2015-06-22T15:27:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2015-06-22:zh/2015/06/notes-on-joomla-part2/</id><summary type="html">&lt;h2&gt;隐藏Joomla相关信息&lt;/h2&gt;
&lt;p&gt;为了避免被攻击，我们可能不想让别人知道自己使用的是Joomla!。&lt;/p&gt;
&lt;h3&gt;网站URL...&lt;/h3&gt;
&lt;p&gt;Joomla后台提供了一定的SEO设置功能，使得我们能将&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;http://example.com/index.php?option=com_content&amp;amp;view=article&amp;amp;id=3&amp;amp;Itemid=117
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;变成&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;http://example.com/aaaa/bbb.html
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这种样子。但是其他人仍然能通过原始形式进行访问。比如通过下面的URL访问登录界面&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;http://example.com/component/users
http://example.com/?option=com_users
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;JoomSEF 和 sh404SEF 似乎能解决这种问题（没有试过，以后慢慢看）。&lt;/p&gt;
&lt;h3&gt;meta generator&lt;/h3&gt;
&lt;p&gt;Joomla! 建的网站，源码中会包含类似下面的meta信息&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;meta&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;generator&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;content=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Joomla! - Open Source Content Management - Version 3.3.5&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;尽管版本号可以在后台site的全局设置隐藏，但是&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;meta&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;generator&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;content=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Joomla! - Open Source Content Management&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;可能仍不是我们希望看到的。那么如何解决呢？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先，我们需要找到它是那儿生成的&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;打开文件 libraries/joomla/document/html/renderer/head.php，在104行左右可以看到&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="x"&gt;// Don&amp;#39;t add empty generators&lt;/span&gt;
&lt;span class="x"&gt;$generator = $document-&amp;gt;getGenerator();&lt;/span&gt;

&lt;span class="x"&gt;if ($generator)&lt;/span&gt;
&lt;span class="x"&gt;{&lt;/span&gt;
&lt;span class="x"&gt;    $buffer .= $tab . &amp;#39;&amp;lt;meta name=&amp;quot;generator&amp;quot; content=&amp;quot;&amp;#39; . htmlspecialchars($generator) . &amp;#39;&amp;quot; /&amp;gt;&amp;#39; . $lnEnd;&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;找到症结，解决就不难了。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;解决方法&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们可以直接将其删除或注释掉，或者在模板的index.php文件中将其定义为空&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt; &lt;span class="nv"&gt;$this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;setGenerator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这两种方式都需要手动对代码动刀，有没有干这种事情的扩展呢？？&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;插件&lt;/th&gt;
&lt;th&gt;...&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.richeyweb.com/development/joomla-plugins/61-byebyegenerator"&gt;ByeByeGenerator&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.aimy-extensions.com/joomla/no-generator.html"&gt;Aimy No Generator&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;后台网址&lt;/h2&gt;
&lt;p&gt;直接输入 http://example.com/administrator 即可打开后台登陆界面，这也会潜在的风险。&lt;/p&gt;
&lt;p&gt;有组件可以阻止这种访问，通过设置该路径的访问用户名密码，或者网址后面加上一个预设的Key，比如&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;http://example.com/administrator?passkey
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;插件&lt;/th&gt;
&lt;th&gt;...&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;AdminExile&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jSecure&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Admin Tools&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://forum.joomla.org/viewtopic.php?t=703972"&gt;Remove &amp;lt;meta name="generator"&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;https://dwebxperts.wordpress.com/2013/01/09/joomla-remove-meta-generator-tag/&lt;/li&gt;
&lt;li&gt;http://www.vincenzocaserta.it/en/blog-vincenzo-caserta-en/blog/447-rename-joomla-meta-name-generator.html&lt;/li&gt;
&lt;li&gt;http://stackoverflow.com/questions/11949893/joomla-forbid-direct-access-to-components-and-modules&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Htaccess_examples_%28security%29&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Preconfigured_htaccess&lt;/li&gt;
&lt;li&gt;http://www.artio.net/joomsef/documentation&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;网站维护相关插件&lt;/h2&gt;
&lt;h3&gt;Akeeba Backup备份网站&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;备份&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;首先需要安装 Akeeba Backup 这一扩展。 Akeeba Backup 还是很容易操作的，默认配置下，直接点击“立即备份”即可。&lt;/p&gt;
&lt;p&gt;多数配置参数也不需要都搞清楚，估计设置一下备份文件的存放位置，以及哪些文件或数据表除外就差不多了。备份格式默认是Akeeba自创的JPA格式，也可以选择更通用的zip格式，推荐前者，后者某些时候会有问题。&lt;/p&gt;
&lt;p&gt;而后可以把备份文件保下载保存在云端或者其他地方。（可以通过Akeeba Backup管理界面下载，或者通过其他途径比如FTP等下载，推荐后者）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;恢复和迁移&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;方法一：&lt;/p&gt;
&lt;p&gt;首先：需要解压备份文件，zip格式工具比较多，JPA的话，需要用&lt;a href="https://www.akeebabackup.com/download/akeeba-extract-wizard.html"&gt;Akeeba eXtract Wizard&lt;/a&gt;进行解压。&lt;/p&gt;
&lt;p&gt;而后，将解压后的文件移动到网站目录下。在浏览器中执行 http://example.com/installation/index.php 就触发了恢复操作。&lt;/p&gt;
&lt;p&gt;如果迁移网站的话，需要设置新的MySQL的连接信息。&lt;/p&gt;
&lt;p&gt;方法二：&lt;/p&gt;
&lt;p&gt;使用&lt;a href="https://www.akeebabackup.com/download/akeeba-kickstart.html"&gt;Akeeba Kickstart&lt;/a&gt; 这一个php脚本。&lt;/p&gt;
&lt;p&gt;将该php文件和网站备份文件一块放到网站目录下，在浏览器中执行 http://example.com/kickstart.php 就触发了恢复操作。&lt;/p&gt;
&lt;h3&gt;网站关闭&lt;/h3&gt;
&lt;p&gt;Joomla!后台全局设置中有“网站关闭”选项，一些模板比如helix也提供有comingsoon选项。&lt;/p&gt;
&lt;p&gt;一些扩展提供网站关闭时页面的设置。还有一些扩展比如 &lt;a href="http://extensions.joomla.org/extensions/extension/miscellaneous/offline/offline"&gt;Offline&lt;/a&gt;可以供关闭时测试网站使用。&lt;/p&gt;
&lt;h3&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;https://www.akeebabackup.com/documentation/quick-start-guide.html&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Joomla"></category></entry><entry><title>Joomla!扩展笔记</title><link href="http://blog.debao.me/zh/2015/06/notes-on-joomla-extension/" rel="alternate"></link><updated>2015-06-18T15:57:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2015-06-18:zh/2015/06/notes-on-joomla-extension/</id><summary type="html">&lt;p&gt;Joomla! 的扩展分：组件、模块、插件、模板&lt;/p&gt;
&lt;p&gt;简单了解一下&lt;/p&gt;
&lt;h2&gt;组件(Component)&lt;/h2&gt;
&lt;p&gt;组件是Joomla!的一种扩展，是Joomla!的主要功能单元。大部分组件都包含administrator和site两部分，它们分别装在Joomla!根目录下的 administrator/components 和 components目录中。&lt;/p&gt;
&lt;p&gt;当用户通过类似如下的&lt;code&gt;http://example.com/index.php?option=com_&amp;lt;name&amp;gt;&lt;/code&gt;的url请求页面时，Joomla!平台将试图加载组件文件&lt;code&gt;components/com_&amp;lt;name&amp;gt;/&amp;lt;name&amp;gt;.php&lt;/code&gt;。在该文件中，可以决定：直接返回HTML代码，还是使用模型-视图-控制器(MVC)模式。&lt;/p&gt;
&lt;p&gt;组件的控制流程见 &lt;a href="https://docs.joomla.org/Component_Program_Flow"&gt;Component_Program_Flow&lt;/a&gt; 。&lt;/p&gt;
&lt;h3&gt;Old-Flat-Model(直接返回HTML代码)&lt;/h3&gt;
&lt;p&gt;假定我们创建一个名为 hello 的组件，在网站components目录下创建 com_hello 子目录，在该目录下创建一个 hello.php 的文件，该文件内输入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    Hello from my first component.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;而后创建一个空的 hello.xml 文件。这样，一个简单的组件就完成了，在 扩展=》扩展管理器=》检测 中点击检测按钮。即可发现该组件。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;com_hello\
    |--  hello.php 
    \--  hello.xml 
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;组件后台&lt;/h4&gt;
&lt;p&gt;在网站 administrator/components/com_hello目录下创建 hello.php 文件，内容简单包含&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    Hello administratation from my first component.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;该页面通过 &lt;code&gt;administrator/index.php?option=com_hello&lt;/code&gt; 访问&lt;/p&gt;
&lt;h4&gt;安装包&lt;/h4&gt;
&lt;p&gt;如果不是直接放置在网站目录下让jommla!去检测，而是直接制作安装包&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;com_hello\
    |--  site\
    |      |-- hello.php 
    |
    |--  admin\
    |      |-- hello.php 
    |
    \--  hello.xml 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;关键的是一个名为 hello.xml 的文件，内容大致如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;extension&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;component&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;version=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3.2.0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;hello&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.0.2&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;files&lt;/span&gt; &lt;span class="na"&gt;folder=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;site&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;filename&amp;gt;&lt;/span&gt;hello.php&lt;span class="nt"&gt;&amp;lt;/filename&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/files&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;administration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;menu&amp;gt;&lt;/span&gt;hello&lt;span class="nt"&gt;&amp;lt;/menu&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;files&lt;/span&gt; &lt;span class="na"&gt;folder=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;admin&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;filename&amp;gt;&lt;/span&gt;hello.php&lt;span class="nt"&gt;&amp;lt;/filename&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/files&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/administration&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/extension&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;注：一般子目录下都会放置一个空的index.html的文件，以避免用户看到目录下内容。&lt;/p&gt;
&lt;p&gt;关于该xml文件的信息，见&lt;a href="https://docs.joomla.org/Manifest_files"&gt;Manifest_files&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;MVC模式&lt;/h3&gt;
&lt;p&gt;Joomla!3 第三方组件通常都分为三部分：模型、视图、控制器。
基本结构：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;com_mycomponent\
    |--  mycomponent.php 
    |--  controller.php
    |--  views\
    |       |--  mycomponent\
    |       |       |-- view.html.php
    |       |       |-- tmpl\
    |       |             |-- default.php
    |...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;现在网上的例子基本上都是 JControllerLegacy/JViewLegacy/JModelLegal，它们都加了Legal，说明有更新的和推荐的替代品：
JControllerBase/JViewBase/JModelBase。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;url&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;index.php?option=com_&amp;lt;name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Joomla!将加载 &lt;code&gt;components/com_&amp;lt;name&amp;gt;/&amp;lt;name&amp;gt;.php&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;index.php?option=com_&amp;lt;name&amp;gt;&amp;amp;view=&amp;lt;myview&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Joomla!会导入&lt;code&gt;components/com_&amp;lt;name&amp;gt;/views/&amp;lt;myview&amp;gt;/view.html.php&lt;/code&gt;，默认&lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;index.php?option=com_&amp;lt;name&amp;gt;[&amp;amp;task=&amp;lt;mytask&amp;gt;]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;默认Task是display&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;index.php?option=com_&amp;lt;name&amp;gt;&amp;amp;format=pdf&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;默认Format是html&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;东西太多了，本文跳过&lt;/p&gt;
&lt;h3&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joomla.org/Portal:Component_Development&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Absolute_Basics_of_How_a_Component_Functions&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/J3.x:Developing_a_MVC_Component/Developing_a_Basic_Component&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/J3.x:Developing_a_MVC_Component/Adding_a_view_to_the_site_part&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;模块(Module)&lt;/h2&gt;
&lt;p&gt;模块用来在页面的某部位添加一些内容。在典型的页面中，它们通常是围绕组件的方盒子，比如Login Form等。&lt;/p&gt;
&lt;p&gt;简单的组件通常包含4个文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mod_mymodule\
    |--  mod_mymodule.php 
    |--  mod_mymodule.xml 
    |--  helper.php
    |--  tmpl\
    |      |-- default.php
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;mod_mymodule.php&lt;/code&gt; 是模块的入口，&lt;code&gt;mod_mymodule.xml&lt;/code&gt;包含安装信息以及配置参数信息等。&lt;/p&gt;
&lt;h3&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joomla.org/Portal:Module_Development&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/J3.x:Creating_a_simple_module/Developing_a_Basic_Module&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;插件(Plugin)&lt;/h2&gt;
&lt;p&gt;插件是Joomla!的一种扩展，它提供与事件相关联的函数功能。Joomla提供了一套核心的插件事件，但是其他扩展也可以发射(fire)
自定义事件。当某一个特定事件发生时，所有与该事件关联的插件函数都会被依次调用。Joomla插件架构遵循观察者模式。&lt;/p&gt;
&lt;p&gt;子类化 JPlugin&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;plg&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;PluginGroup&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;PluginName&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;JPlugin&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="err"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nf"&gt;EventName&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
     &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
     &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;而后 创建一个安装文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;extension&lt;/span&gt; &lt;span class="na"&gt;version=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3.1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;plugin&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;group=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;system&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;plg_system_example&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;files&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;filename&lt;/span&gt; &lt;span class="na"&gt;plugin=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;example&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;example.php&lt;span class="nt"&gt;&amp;lt;/filename&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/files&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;config&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/config&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/extension&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;里面关键的是extension 中的group属性，以及 files 中的 filename。&lt;/p&gt;
&lt;h3&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joomla.org/Portal:Plugin_Development&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Administration_of_a_Plugin_in_Joomla&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Creating_a_Plugin_for_Joomla&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Plugin_Developer_Overview&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Plugin/Events&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;模板(Template)&lt;/h2&gt;
&lt;h3&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joomla.org/Portal:Template_Development&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Understanding_Joomla!_templates&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;语言包(language package)&lt;/h2&gt;
&lt;p&gt;只关注非核心扩展的语言包。&lt;/p&gt;
&lt;p&gt;在Joomla!1.5之前，通过安装文件中的languages元素进行安装&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;languages&lt;/span&gt; &lt;span class="na"&gt;folder=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;lang&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;language&lt;/span&gt; &lt;span class="na"&gt;tag=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;zh-CN&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;zh-CN.com_example.ini&lt;span class="nt"&gt;&amp;lt;/language&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/languages&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这将会把扩展的语言文件安装进Joomla!的核心语言文件存放位置：Joomla根目录下的language或administrator/language。&lt;/p&gt;
&lt;p&gt;该做法在3.x中仍然被支持，但推荐将语言文件和扩展的其他文件直接放一块，目录结构有一定要求&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;files&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;filename&lt;/span&gt; &lt;span class="na"&gt;plugin=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;example&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;example.php&lt;span class="nt"&gt;&amp;lt;/filename&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;folder&amp;gt;&lt;/span&gt;language&lt;span class="nt"&gt;&amp;lt;/folder&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/files&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;注意：语言文件保存成不带BOM的UTF8格式&lt;/p&gt;
&lt;h3&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joomla.org/Making_a_Language_Pack_for_Joomla_3.x&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Creating_language_packs_for_extensions_in_Joomla_2.5&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/J2.5:Making_non-core_language_packs&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Specification_of_language_files&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/Creating_a_language_definition_file&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;其他&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joomla.org/Manifest_files&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Joomla"></category></entry><entry><title>Joomla!笔记</title><link href="http://blog.debao.me/zh/2015/06/notes-on-joomla/" rel="alternate"></link><updated>2015-06-04T13:50:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2015-06-04:zh/2015/06/notes-on-joomla/</id><summary type="html">&lt;h2&gt;问题&lt;/h2&gt;
&lt;h3&gt;googleapis.com 加载问题&lt;/h3&gt;
&lt;p&gt;不少扩展都使用了 googleapis.com 中的 fonts 和 jQuery ，而google的服务在国内无法访问。需要换成360提供的镜像 http://libs.useso.com/  &lt;/p&gt;
&lt;p&gt;NoNumber ReReplacer 比较好的解决这个问题。&lt;/p&gt;
&lt;p&gt;创建两条规则：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用 ajax.useso.com 替换 ajax.googleapis.com&lt;/li&gt;
&lt;li&gt;用 fonts.useso.com 替换 fonts.googleapis.com&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果模板用的 https 而不是 http。 用 http://fonts.useso.com 替换 https://fonts.googleapis.com&lt;/p&gt;
&lt;p&gt;一些扩展比如 K2 也提供了选项，可以选择用本地的，还是远程的。&lt;/p&gt;
&lt;h3&gt;twitter，facebook链接等&lt;/h3&gt;
&lt;p&gt;这些东西在国内无法访问，一般是模板提供的，需要在模板的设置中去除。&lt;/p&gt;
&lt;h3&gt;调整Menu的顺序&lt;/h3&gt;
&lt;p&gt;直接拖动前面的竖着的3个点的图标即可。&lt;/p&gt;
&lt;h3&gt;module的位置&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;自定义Module的位置：在Module的Position属性处，可以一个自定义的字符串作为位置名；而后
在文章中&lt;code&gt;{loadposition myModulePosition}&lt;/code&gt; 或模板中，可以直接使用该位置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;预览模板中Module的位置：首先在模板管理器的选项中，启用预览；而后在网站网址后面加&lt;code&gt;?tp=1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;百度地图&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;http://api.map.baidu.com/lbsapi/creatmap/index.html&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;扩展&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名字&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Admin Tools&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jSecure&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://www.akeebabackup.com/products/akeeba-backup.html"&gt;Akeeba Backup&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Backup, restore and transfer your site in a snap!&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://www.nonumber.nl/extensions/emailprotector"&gt;Email Protector&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Safely cloak email addresses in Joomla!&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://dj-extensions.com/dj-imageslider"&gt;DJ Image Slider&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://www.nonumber.nl/extensions/rereplacer"&gt;ReReplacer&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Advanced search and replace for Joomla!&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://getk2.org/"&gt;K2&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;The powerful content extension for Joomla!&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.joomshaper.com/joomla-extensions/sp-page-builder-free"&gt;SP Page Builder&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;SP Page Builder is an Intuitive Drag and Drop Builder component suited for everyone.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Tabs&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.joomshaper.com/joomla-extensions/sp-tab"&gt;Sp Tab&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.joomshaper.com/joomla-extensions/quick-contact"&gt;SP Quick Contact&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;joombig slider effects with navigation images&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.xingzai.org/extensions/baidu-map-module-for-joomla.html"&gt;Baidu Map&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.richeyweb.com/development/joomla-plugins/121-system-offline"&gt;Offline&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;test Guest functionality when site is offline&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://www.joomlashowroom.com/products/site-lock"&gt;Site Lock&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;http://extensions.joomla.org/&lt;/li&gt;
&lt;li&gt;http://extensions.joomla.org/category/official-extensions&lt;/li&gt;
&lt;li&gt;http://www.joomshaper.com/joomla-extensions&lt;/li&gt;
&lt;li&gt;https://www.nonumber.nl/extensions/&lt;/li&gt;
&lt;li&gt;https://dj-extensions.com/extensions&lt;/li&gt;
&lt;li&gt;https://www.rsjoomla.com/joomla-extensions.html&lt;/li&gt;
&lt;li&gt;http://www.joomlaserviceprovider.com/extensions/joomla&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;模板&lt;/h2&gt;
&lt;p&gt;Framework: Helix T3 ...&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;http://www.joomshaper.com/joomla-templates&lt;/li&gt;
&lt;li&gt;http://www.joomlart.com/joomla/templates&lt;/li&gt;
&lt;li&gt;http://yootheme.com/themes/joomla &lt;/li&gt;
&lt;li&gt;http://www.rockettheme.com/joomla/templates&lt;/li&gt;
&lt;li&gt;https://www.gavick.com/joomla-templates&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;http://www.templatemonster.com/joomla-templates.php&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;http://www.joomlabamboo.com/joomla-templates/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;http://joomlatemplates.me/&lt;/li&gt;
&lt;li&gt;http://thegrue.org/joomla/templates/&lt;/li&gt;
&lt;li&gt;http://www.freshjoomlatemplates.com/&lt;/li&gt;
&lt;li&gt;......&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;可能比较重要的链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joomla.org/Copying_a_Joomla_website&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/How_do_you_recover_or_reset_your_admin_password%3F&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://docs.joomla.org/Taking_the_website_temporarily_offline&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://docs.joomla.org/Developers&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;入门教程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;http://www.inmotionhosting.com/support/edu/joomla-3&lt;/li&gt;
&lt;li&gt;https://docs.joomla.org/J3.x:Creating_a_simple_module/Developing_a_Basic_Module&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Joomla"></category></entry><entry><title>Notes on MySQL</title><link href="http://blog.debao.me/2015/04/notes-on-mysql/" rel="alternate"></link><updated>2015-04-25T13:33:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2015-04-25:2015/04/notes-on-mysql/</id><summary type="html">&lt;h2&gt;MySQL vs mysql&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;MySQL ==&amp;gt; the entire MySQL package&lt;ul&gt;
&lt;li&gt;The MySQL server (mysqld)&lt;/li&gt;
&lt;li&gt;MySQL client programs&lt;/li&gt;
&lt;li&gt;MySQL client library&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;mysql ==&amp;gt; a client program of the MySQL package&lt;ul&gt;
&lt;li&gt;The MySQL Command-Line Tool&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Connecting to server&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;shell&amp;gt; mysql -h host -u user -p
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If mysqld is running on the same machine:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;shell&amp;gt; mysql -u user -p
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If mysqld is running on the same machine and permit anonymous users.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;shell&amp;gt; mysql
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Disconnecting from server&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; quit;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note, semicolon of this command can be omitted.&lt;/p&gt;
&lt;h2&gt;Entering Queries&lt;/h2&gt;
&lt;p&gt;We can do some query operations even without any database to work with.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select version(), current_date, (4+1)*5, user();
+-------------------------+--------------+---------+----------------+
| version()               | current_date | (4+1)*5 | user()         |
+-------------------------+--------------+---------+----------------+
| 5.5.43-0ubuntu0.14.04.1 | 2015-04-05   |      25 | root@localhost |
+-------------------------+--------------+---------+----------------+
1 row in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Type &lt;code&gt;\c&lt;/code&gt; if we want to cancel current command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select user() \c
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Meaning of prompts&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Prompt&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;mysql&amp;gt;&lt;/td&gt;
&lt;td&gt;Ready for new command.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Waiting for next line of multiple-line command.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;'&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Waiting for next line, waiting for completion of a string that began with a single quote (').&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;"&lt;/code&gt;&amp;gt;&lt;/td&gt;
&lt;td&gt;Waiting for next line, waiting for completion of a string that began with a double quote (").&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;`&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Waiting for next line, waiting for completion of an identifier that began with a backtick (`).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;/*&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Waiting for next line, waiting for completion of a comment that began with &lt;code&gt;/*&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Creating and Selecting a Database&lt;/h2&gt;
&lt;p&gt;Creating a database called db_debao&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; create database db_debao;
Query OK, 1 row affected (0.05 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;View databases&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| db_debao           |
| mysql              |
| performance_schema |
+--------------------+
4 rows in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Create a database does not select it for use, so we must make it the current
database explicitly.(Note, semicolon of this command can be omitted.)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; use db_debao
Database changed
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To find out which database currently used&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select database();
+------------+
| database() |
+------------+
| db_debao   |
+------------+
1 row in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Important Note&lt;/strong&gt;, this database is created by the root and will not be accessible to any other user unless permitted by the root.
The following command will create a new user call "test" on localhost with the password "password".&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; grant all on db_debao.* to test@localhost identified by &amp;quot;password&amp;quot;;
Query OK, 0 rows affected (1.79 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Create a Table&lt;/h2&gt;
&lt;p&gt;List tables in current database&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; show tables;
Empty set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Create a table called &lt;code&gt;pet&lt;/code&gt; with three columns: name, sex, birth&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; create table pet (name varchar(20), sex char(1), birth DATE);
Query OK, 0 rows affected (0.19 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;View tables now&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; show tables;
+--------------------+
| Tables_in_db_debao |
+--------------------+
| pet                |
+--------------------+
1 row in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;describe&lt;/code&gt; can be called at any time to view table column names and types.    &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; describe pet;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| name  | varchar(20) | YES  |     | NULL    |       |
| sex   | char(1)     | YES  |     | NULL    |       |
| birth | date        | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Loading Data into a Table&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;load_data&lt;/code&gt; and &lt;code&gt;insert&lt;/code&gt; can be used for this task.&lt;/p&gt;
&lt;p&gt;Create a plain text file called pet_raw_txt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;at1    f       2015-01-01
cat2    m       2015-02-02
cat3    \N      2015-03-03
cat4    f       \N
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Try load this file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; load data local infile &amp;#39;~/pet_raw.txt&amp;#39; into table pet;
ERROR 1148 (42000): The used command is not allowed with this MySQL version
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;How to fix this? Add the &lt;code&gt;--local-infile=1&lt;/code&gt; option when start mysql&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;mysql --local-infile&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;  -u root -p
mysql&amp;gt; use db_debao
mysql&amp;gt; load data &lt;span class="nb"&gt;local &lt;/span&gt;infile &lt;span class="s1"&gt;&amp;#39;~/pet_raw.txt&amp;#39;&lt;/span&gt; into table pet&lt;span class="p"&gt;;&lt;/span&gt;
Query OK, &lt;span class="m"&gt;4&lt;/span&gt; rows affected &lt;span class="o"&gt;(&lt;/span&gt;0.06 sec&lt;span class="o"&gt;)&lt;/span&gt;
Records: &lt;span class="m"&gt;4&lt;/span&gt;  Deleted: &lt;span class="m"&gt;0&lt;/span&gt;  Skipped: &lt;span class="m"&gt;0&lt;/span&gt;  Warnings: 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we use insert instead of load data&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; insert into pet values (&amp;#39;dog1&amp;#39;, &amp;#39;f&amp;#39;, &amp;#39;2015-04-01&amp;#39;);
Query OK, 1 row affected (0.11 sec)
mysql&amp;gt; insert into pet values (&amp;#39;dog2&amp;#39;, &amp;#39;f&amp;#39;, NULL);
Query OK, 1 row affected (0.05 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we want to empty the table pet:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; delete from pet;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Retrieving Information from a Table&lt;/h2&gt;
&lt;p&gt;Selecting all data&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select * from pet;
+------+------+------------+
| name | sex  | birth      |
+------+------+------------+
| cat1 | f    | 2015-01-01 |
| cat2 | m    | 2015-02-02 |
| cat3 | NULL | 2015-03-03 |
| cat4 | f    | NULL       |
| dog1 | f    | 2015-04-01 |
| dog2 | f    | NULL       |
+------+------+------------+
6 rows in set (1.13 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we want to change something, &lt;code&gt;update&lt;/code&gt; can be used.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; update pet set birth = &amp;#39;2015-04-02&amp;#39; where name = &amp;#39;dog2&amp;#39;;
Query OK, 1 row affected (0.08 sec)
Rows matched: 1  Changed: 1  Warnings: 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Selecting particular rows:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select * from pet where birth &amp;gt;= &amp;#39;2015-03-01&amp;#39;;
+------+------+------------+
| name | sex  | birth      |
+------+------+------------+
| cat3 | NULL | 2015-03-03 |
| dog1 | f    | 2015-04-01 |
| dog2 | f    | 2015-04-02 |
+------+------+------------+
3 rows in set (0.02 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Selecting particular columns:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select name, birth from pet;
+------+------------+
| name | birth      |
+------+------------+
| cat1 | 2015-01-01 |
| cat2 | 2015-02-02 |
| cat3 | 2015-03-03 |
| cat4 | NULL       |
| dog1 | 2015-04-01 |
| dog2 | 2015-04-02 |
+------+------------+
6 rows in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Pattern Matching:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select name, birth from pet where name like &amp;#39;cat%&amp;#39;;
+------+------------+
| name | birth      |
+------+------------+
| cat1 | 2015-01-01 |
| cat2 | 2015-02-02 |
| cat3 | 2015-03-03 |
| cat4 | NULL       |
+------+------------+
4 rows in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sorting rows: (order by)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql&amp;gt; select name, birth from pet order by birth;
+------+------------+
| name | birth      |
+------+------------+
| cat4 | NULL       |
| cat1 | 2015-01-01 |
| cat2 | 2015-02-02 |
| cat3 | 2015-03-03 |
| dog1 | 2015-04-01 |
| dog2 | 2015-04-02 |
+------+------------+
6 rows in set (0.00 sec)
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;http://dev.mysql.com/doc/refman/5.6/en/index.html&lt;/li&gt;
&lt;li&gt;http://www.webdevelopersnotes.com/tutorials/sql/mysql_database_introduction_mysql_beginners_tutorial.php3&lt;/li&gt;
&lt;/ul&gt;</summary><category term=""></category></entry><entry><title>Install MediaWiki on Windows</title><link href="http://blog.debao.me/2015/04/install-mediawiki-on-windows/" rel="alternate"></link><updated>2015-04-24T10:33:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2015-04-24:2015/04/install-mediawiki-on-windows/</id><summary type="html">&lt;p&gt;MediaWiki + Apache + php + MySQL&lt;/p&gt;
&lt;h2&gt;MySQL&lt;/h2&gt;
&lt;p&gt;Download and install the msi installer of MySQL 5.6 from http://dev.mysql.com/downloads/installer/&lt;/p&gt;
&lt;h2&gt;Apache&lt;/h2&gt;
&lt;p&gt;Download and install Apache 2.4 from http://www.apachelounge.com/download/&lt;/p&gt;
&lt;h2&gt;PHP&lt;/h2&gt;
&lt;p&gt;Download and install php 5.8.6 from http://windows.php.net/download/&lt;/p&gt;
&lt;p&gt;Rename &lt;code&gt;php.ini-production&lt;/code&gt; to  &lt;code&gt;php.ini&lt;/code&gt;, then enable mysql extension&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;extension_dir = &amp;quot;c:/php-5.6.8/ext&amp;quot;
extension = php_mysql.dll
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Enable intl extension&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;extension = php_intl.dll
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To make &lt;code&gt;intl&lt;/code&gt; really works, the following files which sit in the PHP directory&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;icudt54.dll&lt;/li&gt;
&lt;li&gt;icuio54.dll&lt;/li&gt;
&lt;li&gt;iculx54.dll&lt;/li&gt;
&lt;li&gt;icutu54.dll&lt;/li&gt;
&lt;li&gt;icuin54.dll&lt;/li&gt;
&lt;li&gt;icule54.dll&lt;/li&gt;
&lt;li&gt;icutest54.dll&lt;/li&gt;
&lt;li&gt;icuuc54.dll&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Should be copied to the bin path of Apache, or one of the path in system environment variant &lt;code&gt;PATH&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Add following line to the conf file of apache to enable php.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;LoadModule php5_module &amp;quot;c:/php-5.6.8/php5apache2_4.dll&amp;quot;
AddHandler application/x-httpd-php .php
# configure the path to php.ini
PHPIniDir &amp;quot;C:/php-5.6.8&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Add index.php to DirectoryIndex&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;DirectoryIndex index.html index.php
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Create a simple .php file for test.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt; &lt;span class="nb"&gt;phpinfo&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;MediaWiki&lt;/h2&gt;
&lt;p&gt;Download MediaWiki 1.24.2 from http://www.mediawiki.org/wiki/Download&lt;/p&gt;
&lt;p&gt;Add following line to the conf file of Apache.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# MediaWiki
Alias &amp;quot;/wiki&amp;quot; &amp;quot;d:/www/mediawiki-1.24.2&amp;quot;
&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt; &lt;span class="err"&gt;&amp;quot;d:/www/mediawiki-1.24.2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    ScriptInterpreterSource Registry-Strict
    Options +ExecCGI +FollowSymLinks
    DirectoryIndex index.php index.html
    AllowOverride Limit FileInfo Indexes Options
    Require all granted
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt; &lt;span class="err"&gt;&amp;quot;d:/www/mediawiki-1.24.2/images&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   # Ignore .htaccess files
   AllowOverride None

   # Serve HTML as plaintext, don&amp;#39;t execute SHTML
   AddType text/plain .html .htm .shtml .php

   # Don&amp;#39;t run arbitrary PHP code.
   php_admin_flag engine off

   # If you&amp;#39;ve other scripting languages, disable them too.
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Run&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;http://localhost/wiki/mw-config/index.php
&lt;/pre&gt;&lt;/div&gt;</summary><category term=""></category></entry><entry><title>Install Bugzilla on Windows</title><link href="http://blog.debao.me/2015/04/install-bugzilla-on-windows/" rel="alternate"></link><updated>2015-04-23T10:11:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2015-04-23:2015/04/install-bugzilla-on-windows/</id><summary type="html">&lt;p&gt;According to the &lt;a href="http://bugzilla.readthedocs.org/en/5.0/installing/windows.html"&gt;documentation&lt;/a&gt; of Bugzilla 5.0, the following applications should be installed first:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ActiveState Perl 5.18.2 (5.12.4 or higher)&lt;/li&gt;
&lt;li&gt;Apache 2.4 (2.2.x or higher)&lt;/li&gt;
&lt;li&gt;MySql 5.6 (5.0.15 or higher)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Download Bugzilla&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;git clone --branch 5.0 https://git.mozilla.org/bugzilla/bugzilla bugzilla
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or (when 5.0 is released)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;git clone --branch bugzilla-5.0-stable https://git.mozilla.org/bugzilla/bugzilla bugzilla
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Install required perl modules&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ppm install CGI.pm Digest-SHA TimeDate DateTime DateTime-TimeZone DBI Template-Toolkit Email-Sender Email-MIME URI List-MoreUtils Math-Random-ISAAC File-Slurp JSON-XS Win32 Win32-API DBD-mysql DateTime::TimeZone::Local::Win32
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note, Don't forget &lt;code&gt;DateTime::TimeZone::Local::Win32&lt;/code&gt;, otherwise, following error will occur when we try to use bugzilla.&lt;/p&gt;
&lt;p&gt;The following modules are needed if want to use bugzilla to sent mails through smtp.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ppm install Authen-SASL Net-SMTP-SSL
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;Cannot determine local time zone   &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;MySQL Configuration&lt;/h2&gt;
&lt;h3&gt;Add a user&lt;/h3&gt;
&lt;p&gt;Connect to mysqld&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mysql -u root -p
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then add a new user call &lt;strong&gt;bugs&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;GRANT SELECT, INSERT,
UPDATE, DELETE, INDEX, ALTER, CREATE, LOCK TABLES,
CREATE TEMPORARY TABLES, DROP, REFERENCES ON bugs.*
TO bugs@localhost IDENTIFIED BY &amp;#39;mypassword&amp;#39;;

FLUSH PRIVILEGES;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Configuration File&lt;/h3&gt;
&lt;p&gt;On my system, the conf file is at &lt;code&gt;C:\ProgramData\MySQL\MySQL Server 5.6\my.ini&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Add following lines&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[mysqld]&lt;/span&gt;
&lt;span class="c1"&gt;# Allow packets up to 16M&lt;/span&gt;
&lt;span class="na"&gt;max_allowed_packet&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;16M&lt;/span&gt;
&lt;span class="c1"&gt;# Allow small words in full-text indexes&lt;/span&gt;
&lt;span class="na"&gt;ft_min_word_len&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Apache Configuration&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Enable CGI Support by uncommenting following line&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    AddHandler cgi-script .cgi
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Config Bugzilla&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    Alias &amp;quot;/bugzilla&amp;quot; &amp;quot;d:/www/Bugzilla&amp;quot;
    &lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt; &lt;span class="err"&gt;&amp;quot;d:/www/Bugzilla&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        ScriptInterpreterSource Registry-Strict
        Options +ExecCGI +FollowSymLinks
        DirectoryIndex index.cgi index.html
        AllowOverride Limit FileInfo Indexes Options
        Require all granted
    &lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note: &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In order for ScriptInterpreterSource Registry-Strict to work, create a key HKEY_CLASSES_ROOT.cgi\Shell\ExecCGI\Command with the default value of the full path of perl.exe with a -T parameter. For example C:\Perl64\bin\perl.exe -T.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;checksetup.pl&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Run checksetup.pl to generate &lt;code&gt;localconfig&lt;/code&gt; file.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Edit the &lt;code&gt;localconfig&lt;/code&gt; file, in our case, only &lt;code&gt;$db_pass&lt;/code&gt; is needed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Run checksetup.pl again&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Database tables will be created.&lt;/p&gt;
&lt;p&gt;Administrator account (user name and password) will be created at the same time.&lt;/p&gt;
&lt;h2&gt;OK&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;http://127.0.0.1/bugzilla&lt;/code&gt; should works now.&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;http://bugzilla.readthedocs.org/en/5.0/installing/windows.html&lt;/li&gt;
&lt;li&gt;http://search.cpan.org/dist/DateTime-TimeZone/lib/DateTime/TimeZone.pm&lt;/li&gt;
&lt;li&gt;http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html&lt;/li&gt;
&lt;/ul&gt;</summary><category term=""></category></entry><entry><title>Hello Pelican</title><link href="http://blog.debao.me/2015/04/hello-pelican/" rel="alternate"></link><updated>2015-04-22T14:18:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2015-04-22:2015/04/hello-pelican/</id><summary type="html">&lt;p&gt;Octopress is a great blog system, but it's not easy to maintain for users who don't familiar with ruby. So I switch to Pelican, which is written in Python.&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://jakevdp.github.io/blog/2013/05/07/migrating-from-octopress-to-pelican/"&gt;Migrating from Octopress to Pelican&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>"screen.css used by octopress"</title><link href="http://blog.debao.me/2013/06/screencss-used-by-octopress/" rel="alternate"></link><updated>2013-06-18T15:48:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2013-06-18:2013/06/screencss-used-by-octopress/</id><summary type="html">&lt;h2&gt;screen.css&lt;/h2&gt;
&lt;p&gt;The css file used by octopress blog with the default theme is called &lt;code&gt;screen.css&lt;/code&gt;, which locates in source/stylesheets/screen.css.&lt;/p&gt;
&lt;h2&gt;screen.scss&lt;/h2&gt;
&lt;p&gt;The screen.scss file, which locates in sass/screen.scss, is used to generate the above css file.&lt;/p&gt;
&lt;p&gt;```scss screen.scss
@import "compass";
@include global-reset;
@include reset-html5;&lt;/p&gt;
&lt;p&gt;@import "custom/colors";
@import "custom/fonts";
@import "custom/layout";
@import "base";
@import "partials";
@import "custom/styles";
```&lt;/p&gt;
&lt;p&gt;In the first line, &lt;code&gt;compass&lt;/code&gt;, which is an open-source CSS Authoring Framework, is imported.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://octopress.org/docs/theme/template/"&gt;http://octopress.org/docs/theme/template/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://octopress.org/docs/theme/styles/"&gt;http://octopress.org/docs/theme/styles/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/Sass_%28stylesheet_language%29"&gt;http://en.wikipedia.org/wiki/Sass_%28stylesheet_language%29&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://sass-lang.com/tutorial.html"&gt;http://sass-lang.com/tutorial.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://compass-style.org/reference/compass/reset/utilities/"&gt;http://compass-style.org/reference/compass/reset/utilities/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>"Sandbox: For Octopress Usage and Markdown Syntax Test"</title><link href="http://blog.debao.me/2012/08/sandbox-for-octopress-usage-and-markdown-syntax-test/" rel="alternate"></link><updated>2012-08-28T17:32:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2012-08-28:2012/08/sandbox-for-octopress-usage-and-markdown-syntax-test/</id><summary type="html">&lt;h2&gt;Table Test&lt;/h2&gt;
&lt;p&gt;Source Code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;Left&lt;/span&gt; &lt;span class="nv"&gt;Aligned&lt;/span&gt; &lt;span class="nv"&gt;Header&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Center&lt;/span&gt; &lt;span class="nv"&gt;Header&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Right&lt;/span&gt; &lt;span class="nv"&gt;Aligned&lt;/span&gt; &lt;span class="nv"&gt;Header&lt;/span&gt;
&lt;span class="p"&gt;:-&lt;/span&gt;&lt;span class="s-Atom"&gt;------------------&lt;/span&gt;&lt;span class="p"&gt;|:-&lt;/span&gt;&lt;span class="s-Atom"&gt;------------:&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="s-Atom"&gt;--------------------:&lt;/span&gt;
&lt;span class="nv"&gt;Cell&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;            &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Cell&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Cell&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="nv"&gt;Cell&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;            &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Cell&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Cell&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="s-Atom"&gt;…&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s-Atom"&gt;…&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s-Atom"&gt;…&lt;/span&gt;
&lt;span class="nv"&gt;Long&lt;/span&gt; &lt;span class="nv"&gt;Long&lt;/span&gt; &lt;span class="nv"&gt;Long&lt;/span&gt; &lt;span class="nv"&gt;Long&lt;/span&gt; &lt;span class="nv"&gt;Line&lt;/span&gt; &lt;span class="s-Atom"&gt;…&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Not&lt;/span&gt; &lt;span class="s-Atom"&gt;so&lt;/span&gt; &lt;span class="s-Atom"&gt;long&lt;/span&gt; &lt;span class="nv"&gt;Line&lt;/span&gt; &lt;span class="s-Atom"&gt;…&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Short&lt;/span&gt; &lt;span class="nv"&gt;Line&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Preview:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Left Aligned Header&lt;/th&gt;
&lt;th align="center"&gt;Center Header&lt;/th&gt;
&lt;th align="right"&gt;Right Aligned Header&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Cell 0 0&lt;/td&gt;
&lt;td align="center"&gt;Cell 0 1&lt;/td&gt;
&lt;td align="right"&gt;Cell 0 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Cell 1 0&lt;/td&gt;
&lt;td align="center"&gt;Cell 1 1&lt;/td&gt;
&lt;td align="right"&gt;Cell 1 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;…&lt;/td&gt;
&lt;td align="center"&gt;…&lt;/td&gt;
&lt;td align="right"&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Long Long Long Long Line …&lt;/td&gt;
&lt;td align="center"&gt;Not so long Line …&lt;/td&gt;
&lt;td align="right"&gt;Short Line&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Code Highlight&lt;/h2&gt;
&lt;p&gt;Source Code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;```&lt;/span&gt;&lt;span class="n"&gt;cpp&lt;/span&gt; &lt;span class="n"&gt;First&lt;/span&gt; &lt;span class="n"&gt;Code&lt;/span&gt; &lt;span class="n"&gt;block&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;
&lt;span class="cp"&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dbzhang800&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="err"&gt;```&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Preview:&lt;/p&gt;
&lt;p&gt;```cpp First Code block of C++&lt;/p&gt;
&lt;h1&gt;include &lt;iostream&gt;&lt;/h1&gt;
&lt;p _="
" std::cout_dbzhang800_std::endl_="std::cout&amp;lt;&amp;lt;&amp;quot;dbzhang800&amp;quot;&amp;lt;&amp;lt;std::endl;
"&gt;int main()&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Source&lt;/span&gt; &lt;span class="n"&gt;Code&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;


    &lt;span class="sb"&gt;``&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt; &lt;span class="n"&gt;Python&lt;/span&gt; &lt;span class="n"&gt;Block&lt;/span&gt; &lt;span class="n"&gt;Test&lt;/span&gt;
    &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;
    &lt;span class="sb"&gt;``&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;

&lt;span class="n"&gt;Preview&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

&lt;span class="sb"&gt;``&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt; &lt;span class="n"&gt;Python&lt;/span&gt; &lt;span class="n"&gt;Block&lt;/span&gt; &lt;span class="n"&gt;Test&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://octopress.org/docs"&gt;http://octopress.org/docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://daringfireball.net/projects/markdown/syntax"&gt;http://daringfireball.net/projects/markdown/syntax&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://programus.github.com/blog/2012/03/07/add-table-data-css-for-octopress/"&gt;http://programus.github.com/blog/2012/03/07/add-table-data-css-for-octopress/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>"Setup and Configure My Octopress Blog"</title><link href="http://blog.debao.me/2012/08/setup-and-configure-my-octopress-blog/" rel="alternate"></link><updated>2012-08-27T21:44:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2012-08-27:2012/08/setup-and-configure-my-octopress-blog/</id><summary type="html">&lt;p&gt;I am using Mac OS X 10.8, Ubuntu 12.10 and Windows Vista at present. I want to have a simple blog which can be coutrolled by myself …&lt;/p&gt;
&lt;h2&gt;Install Ruby 1.9.3&lt;/h2&gt;
&lt;p&gt;Octopress depends on Ruby 1.9.2 or newer.&lt;/p&gt;
&lt;h3&gt;Mac X 10.8&lt;/h3&gt;
&lt;p&gt;The Ruby provided by mac is 1.8.7, so we need to install the latest one by ourself.&lt;/p&gt;
&lt;p&gt;The missing package manager for OS X - &lt;strong&gt;Homebrew&lt;/strong&gt;, provides ruby 1.9.3.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;ruby&lt;/span&gt;&lt;span class="x"&gt; &amp;lt;(curl -fsSk https://raw.github.com/mxcl/homebrew/go)&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;brew&lt;/span&gt;&lt;span class="x"&gt; update&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;brew&lt;/span&gt;&lt;span class="x"&gt; install ruby ruby-build rbenv&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Edit ~/.bash_login and add following line:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="x"&gt;export PATH=/usr/local/Cellar/ruby/1.9.3-p194/bin:&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Ubuntu 12.10&lt;/h3&gt;
&lt;p&gt;Nothing special, apt-get is enough.&lt;/p&gt;
&lt;h3&gt;Windows&lt;/h3&gt;
&lt;p&gt;Download &lt;a href="http://rubyforge.org/frs/?group_id=167"&gt;RubyInstaller&lt;/a&gt; and &lt;a href="https://github.com/oneclick/rubyinstaller/downloads/"&gt;DevKit&lt;/a&gt;, then install them.&lt;/p&gt;
&lt;p&gt;"Start Command Prompt with Ruby", and changed to the directory where DevKit extracted, and run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ruby dk.rb init
ruby dk.rb install
gem install rdiscount --platform=ruby
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Set environment variable&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;set LANG=zh_CN.UTF-8
set LC_ALL=zh_CN.UTF-8
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Install octopress&lt;/h2&gt;
&lt;p&gt;Download the octopress&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;git&lt;/span&gt;&lt;span class="x"&gt; clone git://github.com/imathis/octopress.git octopress&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;cd&lt;/span&gt;&lt;span class="x"&gt; octopress&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Install some stuff.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;gem&lt;/span&gt;&lt;span class="x"&gt; install bundler&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;bindle&lt;/span&gt;&lt;span class="x"&gt; install&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;rake&lt;/span&gt;&lt;span class="x"&gt; install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Configure octopress&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Open &lt;strong&gt;_config.yml&lt;/strong&gt;, then edit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;url&lt;/code&gt;, &lt;code&gt;title&lt;/code&gt;, &lt;code&gt;subtitle&lt;/code&gt;, and &lt;code&gt;author&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Open &lt;strong&gt;source/_include/custom/head.html&lt;/strong&gt;,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;then comment&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&amp;lt;link href=&amp;quot;http://fonts.googleapis.com/...&amp;quot;
&amp;lt;link href=&amp;quot;http://fonts.googleapis.com/...&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As they has been blocked in China, which make the blog take too long time to load.&lt;/p&gt;
&lt;h2&gt;Write and View Blog&lt;/h2&gt;
&lt;p&gt;To add a new post&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;rake&lt;/span&gt;&lt;span class="x"&gt; new_post[&amp;quot;My first blog&amp;quot;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;rake&lt;/span&gt;&lt;span class="x"&gt; generate&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;rake&lt;/span&gt;&lt;span class="x"&gt; preview&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Deploy&lt;/h2&gt;
&lt;p&gt;Create a repository called username.github.com&lt;/p&gt;
&lt;p&gt;Run&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;rake&lt;/span&gt;&lt;span class="x"&gt; setup_github_pages&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Produce HTML and Deploy it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;rake&lt;/span&gt;&lt;span class="x"&gt; generate&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;rake&lt;/span&gt;&lt;span class="x"&gt; deploy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Push source to the source branch, or other private place.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;git add .
git commit -a -m &amp;#39;comment&amp;#39;
git push origin source
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Custom Domain&lt;/h2&gt;
&lt;p&gt;I want to use &lt;code&gt;blog.debao.me&lt;/code&gt; for my pages. So create a file called &lt;code&gt;CNAME&lt;/code&gt; under &lt;code&gt;source&lt;/code&gt; directory. Then put the subdomain into the file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;blog.debao.me
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next, I need to setup my DNS. Add a &lt;em&gt;CNAME record&lt;/em&gt; pointing to the pages is enough.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;blog.debao.me IN CNAME xxxxxx.github.com
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Redirect?&lt;/h3&gt;
&lt;p&gt;At present, I hope that following two domains can be redirected to the pages too.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;debao.me
www.debao.me
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is very easy, isn't it?&lt;/p&gt;
&lt;p&gt;Though many &lt;em&gt;Sponsoring Registrars&lt;/em&gt; such as &lt;code&gt;godaddy&lt;/code&gt; have provided such function for us. But it doesn't work in China.&lt;/p&gt;
&lt;p&gt;So I need to create another site, then let such too domains point to it.&lt;/p&gt;
&lt;p&gt;Project pages provided by github can be used in such cases. What we need is a &lt;em&gt;index.html&lt;/em&gt; file, such as&lt;/p&gt;
&lt;p&gt;&lt;code&gt;html index.html
    &amp;lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&amp;gt;
    &amp;lt;html&amp;gt;
      &amp;lt;head&amp;gt;
        &amp;lt;title&amp;gt;1+1=2&amp;lt;/title&amp;gt;
        &amp;lt;meta http-equiv="REFRESH" content="0;url=http://blog.debao.me/"&amp;gt;
      &amp;lt;/head&amp;gt;
      &amp;lt;body&amp;gt;
      Please visit &amp;lt;a herf="http://blog.debao.me"&amp;gt;http://blog.debao.me&amp;lt;/a&amp;gt; ... .
      &amp;lt;/body&amp;gt;
    &amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then, create a &lt;em&gt;CNAME&lt;/em&gt; file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;debao.me
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Push above files to gh-pages branch.&lt;/p&gt;
&lt;p&gt;Next, I need to setup my DNS. Add two &lt;em&gt;A records&lt;/em&gt; pointing to the pages.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;debao.me IN A 204.232.175.78
www.debao.me IN A 204.232.175.78
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Note that&lt;/strong&gt;, github will automaticly generate redirect from www.xxxx.me to xxxx.me for us.&lt;/p&gt;
&lt;h2&gt;Remove blog from url path&lt;/h2&gt;
&lt;p&gt;The urls of my blog look like this&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;http://blog.debao.me/blog/...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;which seems not good. So I want to move evertything to the root directory.&lt;/p&gt;
&lt;p&gt;First, &lt;code&gt;_config.yml&lt;/code&gt; file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;permalink:/:year/:month/:title/
category_dir: categories
pagination_dir:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Second, &lt;code&gt;source/_include/custon/navigation.html&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt; &lt;span class="nv"&gt;root_url&lt;/span&gt; &lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="s"&gt;/archives&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt; Archives&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And &lt;code&gt;source/index.html&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/archives&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt; Blog Archives&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally, Move &lt;code&gt;archives&lt;/code&gt; from directory &lt;code&gt;source/blog&lt;/code&gt; to &lt;code&gt;source&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://octopress.org/docs"&gt;http://octopress.org/docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.moncefbelyamani.com/how-to-install-and-configure-octopress-on-a-mac/"&gt;http://www.moncefbelyamani.com/how-to-install-and-configure-octopress-on-a-mac/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://shanewfx.github.com/blog/2012/02/16/bulid-blog-by-octopress/"&gt;http://shanewfx.github.com/blog/2012/02/16/bulid-blog-by-octopress/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://daringfireball.net/projects/markdown/syntax"&gt;http://daringfireball.net/projects/markdown/syntax&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>VirtualBox的网络设置</title><link href="http://blog.debao.me/zh/2011/11/networking-settings-in-virtualbox/" rel="alternate"></link><updated>2015-04-28T00:00:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2011-11-20:zh/2011/11/networking-settings-in-virtualbox/</id><summary type="html">&lt;p&gt;VirtualBox 可以为每一个Guest分配多达8个网卡(界面上只显示了4个，其他需要通过VBoxManager modifyvm进行配置)，每个网卡的连接方式可以选为下列之一：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Not attached&lt;/li&gt;
&lt;li&gt;NAT&lt;/li&gt;
&lt;li&gt;NAT Network&lt;/li&gt;
&lt;li&gt;Bridged Adapter&lt;/li&gt;
&lt;li&gt;Internal Network&lt;/li&gt;
&lt;li&gt;Host-only Adapter&lt;/li&gt;
&lt;li&gt;Generic Driver&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Not attached&lt;/th&gt;
&lt;th&gt;NAT&lt;/th&gt;
&lt;th&gt;NAT Network&lt;/th&gt;
&lt;th&gt;Bridged Adapter&lt;/th&gt;
&lt;th&gt;Internal Network&lt;/th&gt;
&lt;th&gt;Host-only Adapter&lt;/th&gt;
&lt;th&gt;Generic Driver&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Guest-&amp;gt;Host&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Host-&amp;gt;Guest&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest&amp;lt;-&amp;gt;Other Guest&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest-&amp;gt;Other Host&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Other Host-&amp;gt;Guest&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;√&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;×&lt;/td&gt;
&lt;td&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;以下假定Host位于一个192.168.1.0/24 的局域网中。&lt;/p&gt;
&lt;h2&gt;Not attached (未指定)&lt;/h2&gt;
&lt;p&gt;在该模式下，Guest的网卡存在，但是没有有效网络连接。在选项卡中，如果&lt;code&gt;Cable Connected&lt;/code&gt;被选中，那么Guest会试图连接网路，但最终也会报告：受限制或无连接。&lt;/p&gt;
&lt;h2&gt;NAT (网络地址转换)&lt;/h2&gt;
&lt;p&gt;这个是虚拟机的默认模式。对于“Client”类型的Guest，该模式在大部分情况下都能很好地工作。
当Guest启动时，它通常使用DHCP获取一个IP地址。VirtualBox 响应DHCP请求并为其指定一个IP地址(10.0.2.15)，网关地址(10.0.2.2)。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Host&lt;/th&gt;
&lt;th&gt;192.168.1.3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;10.0.2.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest1&lt;/td&gt;
&lt;td&gt;10.0.2.15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest2&lt;/td&gt;
&lt;td&gt;10.0.2.15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;10.0.2.15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;但由于Guest连接的是VirtualBox内部的私有网络，使得guest对其他guest, host以及网络上的其他计算机都是不可见的。为了使其某些端口对外部可见，需要使用端口转发(port forwarding)。&lt;/p&gt;
&lt;h2&gt;NAT Network (NAT网络)&lt;/h2&gt;
&lt;p&gt;和NAT类似基本一样，只是所有的Guest都在同一个NAT网络内，彼此间可以通讯。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Host&lt;/th&gt;
&lt;th&gt;192.168.1.3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;10.0.2.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest1&lt;/td&gt;
&lt;td&gt;10.0.2.15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest2&lt;/td&gt;
&lt;td&gt;10.0.2.16&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;10.0.2.*&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;需要先通过VirtualBox设置一个NAT网络(网络IP段，端口转发等都在此处可以设置)，而后在各个guest的网络设置中才能选择该模式。&lt;/p&gt;
&lt;h2&gt;Bridged Adapter (桥接网卡)&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Host&lt;/th&gt;
&lt;th&gt;192.168.1.3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Guest1&lt;/td&gt;
&lt;td&gt;192.168.1.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest2&lt;/td&gt;
&lt;td&gt;192.168.1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;192.168.1.*&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;它可以满足虚拟机中更高级的网络需求，比如运行servers等。它通过host的网卡，直接连入到host网络中。因此，虚拟机能被分配到一个中独立的IP，所有网络功能完全和在网络中的真实机器一样。&lt;/p&gt;
&lt;p&gt;缺点：需要占用局域网中的IP地址。&lt;/p&gt;
&lt;h2&gt;Internal Network (内部网络)&lt;/h2&gt;
&lt;p&gt;用来创建guest的完全隔离的网络，对host以及外部的计算机不可见。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Host&lt;/th&gt;
&lt;th&gt;192.168.1.3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Guest1&lt;/td&gt;
&lt;td&gt;169.254.75.244&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest2&lt;/td&gt;
&lt;td&gt;169.254.75.245&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;169.254.&lt;em&gt;.&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;在该模式下，VirtualBox 不提供DHCP/Name service 等服务。&lt;/li&gt;
&lt;li&gt;多个Internal Network 是可能的（需要使用VBoxManager modifyvm命令）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Host-only Adapter (仅主机适配器)&lt;/h2&gt;
&lt;p&gt;类似 Internal Network，但是所有的guest位于一个 &lt;code&gt;vboxnet0&lt;/code&gt;的网络中且提供DHCP服务。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Host&lt;/th&gt;
&lt;th&gt;192.168.1.3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;192.168.56.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest1&lt;/td&gt;
&lt;td&gt;192.168.56.101&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guest2&lt;/td&gt;
&lt;td&gt;192.168.56.102&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;192.168.56.*&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;VirtualBox在Host中模拟出一个虚拟网卡(类似于loopback)，所有的guest都连接到该网卡上。&lt;/li&gt;
&lt;li&gt;Host和guest之间都可以互相访问，其他主机不能访问该网络，guest也不能访问其他主机。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;据说该模式非常强，通过配置可以实现前面所有的模式的功能（但是我不知道怎么弄）。&lt;/p&gt;
&lt;h2&gt;Generic Driver (通用驱动)&lt;/h2&gt;
&lt;p&gt;极少使用的模式所共享的网络接口&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;UDP Tunnel&lt;/li&gt;
&lt;li&gt;VDE networking&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.virtualbox.org/manual/ch06.html"&gt;Chapter 6. Virtual networking&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blogs.oracle.com/fatbloke/entry/networking_in_virtualbox1"&gt;Networking in VirtualBox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://penpenguanguan.com/997.html"&gt;快速理解VirtualBox的四种网络连接方式&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Apache配置入门笔记</title><link href="http://blog.debao.me/zh/2011/10/apache-config-basic/" rel="alternate"></link><updated>2011-10-23T17:32:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2011-10-23:zh/2011/10/apache-config-basic/</id><summary type="html">&lt;blockquote&gt;
&lt;p&gt;随便记录一下，不求严谨，但求无原则性错误。-- DebaoZhang 20111023&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Apache是一个http服务器，在无连接的时候，它除了监听配置文件中指定的IP地址和TCP端口号外不做任何工作；当一个请求出现在一个有效的端口时，Apache接受HTTP请求并分析其头部，然后它根据配置文件中设定的规则，做出某种合适的动作。&lt;/p&gt;
&lt;p&gt;Apache通过一个配置文件进行设置&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;配置文件是编译期被指定的(通常叫 httpd.conf)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;两个例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C:\Program Files\Apache Software Foundation\Apache2.2\conf\httpd.conf&lt;/li&gt;
&lt;li&gt;/etc/apache2/apache2.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可以通过命令行参数 -f 指定&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;配置文件内通过include可以包含其他的配置文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;绑定端口与虚拟主机&lt;/h2&gt;
&lt;p&gt;用 Listen 指定要绑定的端口号&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以指定具体的IP&lt;/li&gt;
&lt;li&gt;可以用多条命令指定多个端口号&lt;div class="highlight"&gt;&lt;pre&gt;Listen 80
Listen 127.0.0.1:8080
Listen 10.0.2.15:8081
Listen [fe80::222:5fff:feb9:82d0]:8888
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不同的IP和端口组合可以用来做虚拟主机，这需要通过VirtualHost进一步配置(必须先用Listen设置监听地址)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class="err"&gt;127.0.0.1:8080&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
...
&lt;span class="nt"&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class="err"&gt;10.0.2.15:8081&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
ServerNname host.example.com
...
&lt;span class="nt"&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class="err"&gt;10.0.2.15:8081&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
ServerNname host.example2.com
...
&lt;span class="nt"&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;虚拟主机可以基于&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IP地址&lt;/li&gt;
&lt;li&gt;端口号&lt;/li&gt;
&lt;li&gt;域名(通过HTTP请求header中的Host字段)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;路径转换？&lt;/h2&gt;
&lt;p&gt;我们在浏览器中打交道的是一堆url：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;http://www.example.com/index.html
http://www.example.com/faq.html?#question10
http://www.example.com:8080/cgi-bin/draw.cgi?type=rect
http://user:pass@www.example.com/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;浏览器通过GET或POST想服务器发送请求&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;GET /index.html HTTP/1.1 Host:www.example.com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;服务器此时需要根据这个路径发送一个合适的文件给浏览器。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果请求的是磁盘上的静态文件，此时需要的是到磁盘文件系统的映射&lt;/li&gt;
&lt;li&gt;如果请求的是动态生成的文件，仍需要能找到脚本或程序才行&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;DocumentRoot&lt;/h3&gt;
&lt;p&gt;比如，前面请求的 /index.html 对应磁盘的哪个文件。则需要DocumentRoot指定一个目录作为根目录。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;DocumentRoot /var/www
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;DocumentRoot &amp;quot;C:/Program Files/Apache Software Foundation/Apache2.2/htdocs&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;注：结尾不再加一个斜杠&lt;/li&gt;
&lt;li&gt;每一个虚拟主机也都该指定自己的DocumentRoot&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;还有一个ServerRoot的东西，是用来配置服务器的配置文件、日志文件等所在目录的，与这儿没什么关系。&lt;/p&gt;
&lt;h3&gt;Alias?&lt;/h3&gt;
&lt;p&gt;可能还需要访问位于DocumentRoot之外的文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Alias /docs /var/web
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这样一来，http://www.exemaple.com/docs/... 被映射到该目录&lt;/p&gt;
&lt;p&gt;还有一个ScriptAlias，功能类似，只是其内容均被视为脚本。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ScriptAlias /cgi-bin/ &amp;quot;C:/Program Files/Apache Software Foundation/Apache2.2/cgi-bin/&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这两个命令还有两个对应的支持正则匹配的版本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AliasMatch&lt;/li&gt;
&lt;li&gt;ScriptAliasMatch&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;其他&lt;/h3&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;linux 可以使用soft link方式（并在Option中设置FollowSymLinks）&lt;/li&gt;
&lt;li&gt;使用mod_userdir模块的UserDir指令&lt;/li&gt;
&lt;li&gt;使用重定向功能 Redirct&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然实在不存在的东西，只能404错误了&lt;/p&gt;
&lt;h2&gt;文件和目录设置&lt;/h2&gt;
&lt;p&gt;对目录的单独设置是通过Directory进行的&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt; &lt;span class="err"&gt;/var/web/dir1&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
Options +Indexes
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;对文件的单独设置是通过Files进行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;Files&lt;/span&gt; &lt;span class="err"&gt;private.html&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
Order allow,deny
Deny from all
&lt;span class="nt"&gt;&amp;lt;/Files&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在路径上，尽管它们都可以接受shell风格通配符，但更复杂的匹配则需要使用相应的支持正则的版本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DirectoryMatch&lt;/li&gt;
&lt;li&gt;FilesMath&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;.htaccess&lt;/h3&gt;
&lt;p&gt;可以通过在目录下放置一个.htaccess文件对该目录进行控制。&lt;/p&gt;
&lt;p&gt;主配置文件内的：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt; &lt;span class="err"&gt;/www/htdocs/example&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
AddType text/example .exm
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;等价于在该目录下的.htaccess文件中放入：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;AddType text/example .exm
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;但这个不建议被使用(除非没有主配置文件的设置权限)了。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.htaccess 文件的名字可以改成其他的，通过 AccessFileName指令&lt;/li&gt;
&lt;li&gt;该文件内可以使用哪些指令，可通过AllowOverride进行设置&lt;/li&gt;
&lt;li&gt;AllowOverride 设置为None(默认值是All) 可完全禁止 .htaccess的使用&lt;/li&gt;
&lt;li&gt;这个文件与授权控制无关！！&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Location&lt;/h3&gt;
&lt;p&gt;与前面的Directory和Files针对的磁盘文件路径不同，Location设置的是URL地址中路径部分。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;Location&lt;/span&gt; &lt;span class="err"&gt;/private&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
Order Allow,Deny
Deny from all
&lt;span class="nt"&gt;&amp;lt;/Location&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;将禁止访问http://www.example.com/private123等所有以 /private 开头的路径&lt;/p&gt;
&lt;h2&gt;认证与授权&lt;/h2&gt;
&lt;p&gt;这个东西会3组模块(真的比较繁...，使用LoadModule加载):&lt;/p&gt;
&lt;p&gt;首先设置认证类型（使用AuthType指令，目前只支持两种？）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Basic&lt;/li&gt;
&lt;li&gt;Digest&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;根据认证类型选择认证支持模块(通过AuthBasicProvider或AuthDigestProvider)设置，提供密码等验证信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AuthBasicProvider&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;file (默认值)&lt;/li&gt;
&lt;li&gt;dbm&lt;/li&gt;
&lt;li&gt;dbd&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AuthDigestProvider&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;file&lt;/li&gt;
&lt;li&gt;dbm&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置授权支持模块(参考Require指令?)，意图是：如何使用前面的密码信息？&lt;/p&gt;
&lt;h3&gt;简单例子&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;AuthType Basic
AuthName &amp;quot;From Example.com&amp;quot;
#AuthBasicProvider file
AuthUserFile /usr/apache2/passwd/passwords
Require user debao
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;AuthType 选择basic认证方式&lt;/li&gt;
&lt;li&gt;AuthName 是用户看到的信息(同一个name的浏览器也可以自动处理)&lt;/li&gt;
&lt;li&gt;AuthBasicProvider 选择 file，这是默认值&lt;/li&gt;
&lt;li&gt;AuthUserFile 设置密码文件&lt;/li&gt;
&lt;li&gt;Require user 控制密码文件中哪些用户可以通过授权(使用Require valid-user可是使得所有密码正确的用户通过授权)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;密码文件通过htpasswd来生成，对于digest方式，则需要使用htdigest来生成密码文件。&lt;/p&gt;
&lt;h3&gt;Deny Allow&lt;/h3&gt;
&lt;p&gt;这二者可以提供简单的基于IP地址的访问控制&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Order deny,allow
Deny from all
Allow from 192.168.0.2
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;文件类型&lt;/h3&gt;
&lt;p&gt;当浏览器请求一个文件时，服务器一般都需要同时提供mime信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TypesConfig 指令指定一个包含扩展名和mime对应关系的文件&lt;/li&gt;
&lt;li&gt;使用 AddType 指令添加新的对应关系&lt;/li&gt;
&lt;li&gt;MimeMagicFile 指定一个包含文件开头的魔串和mime对应关系的文件&lt;/li&gt;
&lt;li&gt;DefaultType 指定默认类型&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;对于纯文本文件，如果让服务器提供编码信息。AddDefaultCharset指令可以做到，不过这会覆盖html等文件自身提供的编码信息。
CGI&lt;/p&gt;
&lt;p&gt;使用 ScriptAlias指令可以设置cgi目录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ScriptAlias /cgi-bin/ /usr/local/apache2/cgi-bin/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果在该目录之外的以某种后缀结尾(.py)的文件作为脚本，则需要使用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt; &lt;span class="err"&gt;/home/*/public_html&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
Options +ExecCGI
AddHandler cgi-script .py
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;首先是Options中允许CGI脚本执行，然后使用AddHandler设置。&lt;/p&gt;
&lt;p&gt;如果某个目录下全是cgi脚本，则可以使用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;SetHandler cgi-script
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;wsgi&lt;/h3&gt;
&lt;p&gt;对于python来说，CGI方式应该不怎么使用了吧。主要是wsgi这种方式了。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;下载 wsgi ： http://code.google.com/p/modwsgi/&lt;/li&gt;
&lt;li&gt;在apache配置文件中使用&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    LoadModule wsgi_module modules/mod_wsgi.so
    WSGIScriptAlias /wiki &amp;quot;F:/Moin/mywiki/moin.wsgi&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;http://lamp.linux.gov.cn/Apache/ApacheMenu/urlmapping.html&lt;/li&gt;
&lt;li&gt;http://lamp.linux.gov.cn/Apache/ApacheMenu/urlmapping.html&lt;/li&gt;
&lt;li&gt;http://docstore.mik.ua/orelly/linux/apache/ch01_01.htm&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Mercurial小记</title><link href="http://blog.debao.me/2010/09/mercurial-note/" rel="alternate"></link><updated>2010-09-28T06:58:00+08:00</updated><author><name>Debao Zhang</name></author><id>tag:blog.debao.me,2010-09-28:2010/09/mercurial-note/</id><summary type="html">&lt;p&gt;Mercurial 是一个分布式的源代码&lt;/p&gt;
&lt;h2&gt;配置文件&lt;/h2&gt;
&lt;p&gt;位于：&lt;code&gt;~/.hgrc&lt;/code&gt; 或 &lt;code&gt;%USERPROFILE%\Mercurial.ini&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;首先配置用户名(注意格式，这样，google code等会为我们将email地址隐藏掉)：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[ui]&lt;/span&gt;
&lt;span class="na"&gt;username&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;John Doe &amp;lt;john@example.com&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;记住用户名和密码：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[auth]&lt;/span&gt;
&lt;span class="na"&gt;example.prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;https://hg.example.net/&lt;/span&gt;
&lt;span class="na"&gt;example.username&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;foo&lt;/span&gt;
&lt;span class="na"&gt;example.password&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;bar&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;操作&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Mercurial&lt;/th&gt;
&lt;th&gt;Subversion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;仓库克隆&lt;/td&gt;
&lt;td&gt;hg clone url dir&lt;/td&gt;
&lt;td&gt;svn co url dir&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;创建&lt;/td&gt;
&lt;td&gt;hg init&lt;/td&gt;
&lt;td&gt;svnadmin create dir&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;提交到远端&lt;/td&gt;
&lt;td&gt;hg commit &lt;BR/&gt; hg push&lt;/td&gt;
&lt;td&gt;svn commit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;更新&lt;/td&gt;
&lt;td&gt;hg pull &lt;BR/&gt; hg update&lt;/td&gt;
&lt;td&gt;svn update&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;获取版本号&lt;/td&gt;
&lt;td&gt;hg -q id &lt;BR/&gt; hg parent&lt;/td&gt;
&lt;td&gt;svnversion -n&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;http://mercurial.selenic.com/wiki/QuickStart&lt;/li&gt;
&lt;li&gt;http://mercurial.selenic.com/wiki/FAQ&lt;/li&gt;
&lt;/ul&gt;</summary><category term=""></category></entry></feed>