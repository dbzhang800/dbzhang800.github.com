<!DOCTYPE html>
<html class="no-js" lang="en">
<head>

  <title>VHDL与Verilog学习小记 &mdash; 1+1=10</title>
  <meta charset="utf-8" />
  <meta name="generator" content="Pelican" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Debao Zhang">
    <meta name="description" content="记记笔记，放松一下..." />
    <link href="https://blog.debao.me/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="1+1=10 Full Atom Feed" />
    <link href="https://blog.debao.me/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="1+1=10 Atom Feed" />
    <link href="https://blog.debao.me/feeds/ee.atom.xml" type="application/atom+xml" rel="alternate" title="1+1=10 Categories Atom Feed" />

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
    <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN" || mathElements[i].tagName === "DIV") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
    </script>





  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://blog.debao.me/favicon.png" rel="icon">

  <link href="https://blog.debao.me/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://blog.debao.me/">1+1=10</a></h1>
    <h2>记记笔记，放松一下...</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="https://blog.debao.me/feeds/atom.xml" rel="subscribe-atom">Atom</a></li>
</ul>

<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="blog.debao.me">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">VHDL与Verilog学习小记</h1>
    <p class="meta">
<time datetime="2024-05-23T20:01:00+08:00" pubdate>Thu 23 May 2024</time>    </p>
</header>

  <div class="entry-content"><blockquote>
<p>接前面<a href="https://blog.debao.me/2024/05/notes-on-questa-intel-fpga-starter-1/">Questa Intel FPGA Starter学习小记（一）</a>，Questa仿真环境应该可以用了，试着了解一下VHDL与Verilog的基本语法</p>
</blockquote>
<p>先列个表格，看看历史：</p>
<table>
<thead>
<tr>
<th>年份</th>
<th>VHDL</th>
<th>Verilog</th>
<th>SystemVerilog</th>
<th>SystemC</th>
</tr>
</thead>
<tbody>
<tr>
<td>1987</td>
<td>VHDL-87 (IEEE 1076-1987)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1993</td>
<td>VHDL-93 (IEEE 1076-1993)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1995</td>
<td></td>
<td>Verilog-95</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2001</td>
<td>VHDL-2000 (IEEE 1076-2000)</td>
<td>Verilog-2001</td>
<td></td>
<td>SystemC 1.0</td>
</tr>
<tr>
<td>2002</td>
<td></td>
<td></td>
<td></td>
<td>SystemC 2.0</td>
</tr>
<tr>
<td>2005</td>
<td>VHDL-2002 (IEEE 1076-2002)</td>
<td>Verilog-2005 (IEEE 1364-2005)</td>
<td>IEEE 1800-2005</td>
<td></td>
</tr>
<tr>
<td>2006</td>
<td>VHDL-2006 (IEEE 1076-2006)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2008</td>
<td></td>
<td></td>
<td></td>
<td>SystemC 2.2</td>
</tr>
<tr>
<td>2009</td>
<td></td>
<td></td>
<td>IEEE 1800-2009</td>
<td></td>
</tr>
<tr>
<td>2011</td>
<td>VHDL-2008 (IEEE 1076-2008)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2012</td>
<td></td>
<td></td>
<td>IEEE 1800-2012</td>
<td></td>
</tr>
<tr>
<td>2016</td>
<td></td>
<td></td>
<td></td>
<td>SystemC 2.3.1</td>
</tr>
<tr>
<td>2017</td>
<td></td>
<td></td>
<td>IEEE 1800-2017</td>
<td></td>
</tr>
<tr>
<td>2019</td>
<td>VHDL-2019 (IEEE 1076-2019)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Verilog从2005年开始已经融入进SystemVerilog，后面正经学习应该直接看SystemVerilog。但是网络上资源似乎都很老旧，各种写法似乎都停留在Verilog标准化之前Verilog95风格，所以本文仍然Verilog为主。</p>
</blockquote>
<h2 id="vhdlverilog">VHDL与Verilog差异对比？</h2>
<p>VHDL（VHSIC Hardware Description Language）和Verilog是两种广泛使用的硬件描述语言（HDL），用于电子设计自动化（EDA）领域，尤其是在集成电路（IC）设计中。</p>
<h3 id="_1">语言对比</h3>
<table>
<thead>
<tr>
<th>特性</th>
<th>VHDL</th>
<th>Verilog</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>起源</strong></td>
<td>由美国国防部于1980年代初发起</td>
<td>由Gateway Design Automation于1984年开发</td>
</tr>
<tr>
<td><strong>设计哲学</strong></td>
<td>更偏向于强类型和严格的语法</td>
<td>更灵活，语法较为宽松</td>
</tr>
<tr>
<td><strong>类型系统</strong></td>
<td>强类型系统，需要明确指定数据类型</td>
<td>弱类型系统，类型转换较自由</td>
</tr>
<tr>
<td><strong>并发机制</strong></td>
<td>使用进程（processes）来描述并发</td>
<td>使用always和initial块来描述并发</td>
</tr>
<tr>
<td><strong>可读性</strong></td>
<td>类似Ada，更加注重可读性和维护性</td>
<td>语法类似于C语言，较为简洁</td>
</tr>
<tr>
<td><strong>调试和测试</strong></td>
<td>提供强大的断言（assertions）和测试特性</td>
<td>测试和调试功能较为基础</td>
</tr>
<tr>
<td><strong>应用领域</strong></td>
<td>在欧洲及军事/航空航天领域更受欢迎</td>
<td>在美国及消费电子领域更普遍</td>
</tr>
<tr>
<td><strong>学习曲线</strong></td>
<td>相对陡峭，语法复杂</td>
<td>相对平缓，易于上手</td>
</tr>
</tbody>
</table>
<h3 id="_2">一些术语差异</h3>
<table>
<thead>
<tr>
<th>VHDL</th>
<th>Verilog</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Entity</strong></td>
<td><strong>Module</strong></td>
<td>描述硬件的基本单位，用于定义输入输出端口。</td>
</tr>
<tr>
<td>Architecture</td>
<td>Implementation Block</td>
<td>描述实体或模块的功能实现。</td>
</tr>
<tr>
<td><strong>Signal</strong></td>
<td><strong>Wire/Reg</strong></td>
<td>用于在设计中连接不同部分的变量。Wire 是连续赋值，Reg 用于存储。</td>
</tr>
<tr>
<td><strong>Process</strong></td>
<td><strong>Always</strong> Block</td>
<td>描述在特定条件下执行的代码块。</td>
</tr>
<tr>
<td>Component</td>
<td>Module Instance</td>
<td>用于实例化一个模块或实体，用于设计的结构化。</td>
</tr>
<tr>
<td>Configuration</td>
<td>Configuration</td>
<td>用来绑定特定的实体和架构，或指定模块的特定实现。</td>
</tr>
<tr>
<td><strong>Function/Procedure</strong></td>
<td><strong>Function/Task</strong></td>
<td>用于封装并重用代码，Function 返回单个值，Task 可以没有返回值。</td>
</tr>
<tr>
<td>Package</td>
<td>Package/Library</td>
<td>用于定义和封装一组相关的定义和实现，以便重用。</td>
</tr>
<tr>
<td>Generic</td>
<td>Parameter</td>
<td>用于在实例化模块或实体时设置模块属性的参数。</td>
</tr>
<tr>
<td><strong>Constant</strong></td>
<td><strong>Parameter/Localparam</strong></td>
<td>定义在编译时已知且不可变的值。</td>
</tr>
<tr>
<td>Variable</td>
<td>Variable</td>
<td>用于过程内部存储和操作数据的局部存储元素。</td>
</tr>
<tr>
<td>Attribute</td>
<td>Attribute</td>
<td>用于为实体或信号添加特定的属性。</td>
</tr>
<tr>
<td>Concurrent Statement</td>
<td>Concurrent Assignment</td>
<td>在架构或模块级别上同时执行的语句。</td>
</tr>
<tr>
<td>Sequential Statement</td>
<td>Sequential Block</td>
<td>在过程内部按顺序执行的语句。</td>
</tr>
</tbody>
</table>
<h3 id="_3">数据类型差异</h3>
<table>
<thead>
<tr>
<th><strong>VHDL 数据类型</strong></th>
<th><strong>Verilog 数据类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>STD_LOGIC</code></td>
<td><code>wire</code>, <code>reg</code></td>
<td>通用的单比特类型，表示逻辑值。</td>
</tr>
<tr>
<td><code>STD_LOGIC_VECTOR</code></td>
<td><code>wire [n-1:0]</code>, <code>reg [n-1:0]</code></td>
<td>多比特的向量类型，用于表示一组逻辑线。</td>
</tr>
<tr>
<td><code>BIT</code></td>
<td><code>wire</code>, <code>reg</code></td>
<td>单个二进制数（0或1）。</td>
</tr>
<tr>
<td><code>BIT_VECTOR</code></td>
<td><code>wire [n-1:0]</code>, <code>reg [n-1:0]</code></td>
<td>二进制数字的向量。</td>
</tr>
<tr>
<td><code>BOOLEAN</code></td>
<td>N/A</td>
<td>表示逻辑真或假。</td>
</tr>
<tr>
<td><code>INTEGER</code></td>
<td><code>integer</code></td>
<td>表示整数。</td>
</tr>
<tr>
<td><code>UNSIGNED</code>, <code>SIGNED</code></td>
<td>N/A</td>
<td>用于表示无符号和有符号整数。</td>
</tr>
<tr>
<td><code>REAL</code></td>
<td><code>real</code></td>
<td>用于表示浮点数。</td>
</tr>
<tr>
<td><code>ENUMERATION TYPE</code></td>
<td><code>enum</code></td>
<td>允许用户定义一组命名的常量。</td>
</tr>
<tr>
<td><code>ARRAY</code></td>
<td><code>array</code></td>
<td>用于定义具有多个元素的数据结构。</td>
</tr>
<tr>
<td><code>RECORD</code></td>
<td><code>struct</code></td>
<td>允许用户定义可以包含不同数据类型的复合数据结构。</td>
</tr>
<tr>
<td><code>ACCESS</code></td>
<td>N/A</td>
<td>指针类型，用于动态内存分配。</td>
</tr>
<tr>
<td><code>FILE</code></td>
<td>N/A</td>
<td>用于文件操作。</td>
</tr>
<tr>
<td><code>TIME</code></td>
<td><code>time</code></td>
<td>用于表示时间。</td>
</tr>
</tbody>
</table>
<h3 id="_4">大小写</h3>
<ul>
<li>VHDL<strong>不区分</strong>大小写。在 VHDL 中，标识符（例如变量名、信号名和模块名）的大小写不会影响其含义。例如，Signal, signal, 和 SIGNAL 在 VHDL 中被视为同一个标识符。</li>
</ul>
<ul>
<li>Verilog <strong>区分</strong>大小写的语言。在 Verilog 中，所有的标识符（包括变量名、模块名等）的大小写必须保持一致。例如，counter, Counter, 和 COUNTER 在 Verilog 中会被认为是三个不同的标识符。</li>
</ul>
<h2 id="_5">示例对比</h2>
<p>没时间系统学习东西，先用一些简单的例子找找感觉</p>
<h3 id="_6">使用注释</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- 这是一个单行注释</span>
<span class="cm">/*</span>
<span class="cm">这是一个多行注释，</span>
<span class="cm">但请注意，标准VHDL不支持此种注释方式，</span>
<span class="cm">使用时需要确保工具链兼容。</span>
<span class="cm">*/</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// 这是一个单行注释</span>
<span class="cm">/*</span>
<span class="cm">这是一个多行注释</span>
<span class="cm">可以跨越多行</span>
<span class="cm">*/</span>
</code></pre></div></td></tr></table></div>

<p>VHDL标准仅官方支持单行注释，使用<code>--</code>。Verilog支持类似C语言的单行(<code>//</code>)和多行(<code>/* ... */</code>)注释，这使得在代码中添加详细注释更灵活。</p>
<h3 id="_7">模块定义与端口声明</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">library</span><span class="w"> </span><span class="nn">IEEE</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">IEEE.STD_LOGIC_1164.</span><span class="k">ALL</span><span class="p">;</span>

<span class="k">entity</span><span class="w"> </span><span class="nc">Counter</span><span class="w"> </span><span class="k">is</span>
<span class="w">    </span><span class="k">Port</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">clk</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">           </span><span class="n">reset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">           </span><span class="n">count</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w">  </span><span class="kt">STD_LOGIC_VECTOR</span><span class="p">(</span><span class="mi">7</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<span class="k">end</span><span class="w"> </span><span class="nc">Counter</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Veriog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">Counter</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">clk</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">reset</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">count</span>
<span class="p">);</span>
</code></pre></div></td></tr></table></div>

<p>在VHDL中，模块被称为“实体”（entity），并且需要明确地包括库的引用。每个端口的方向（输入或输出）和类型都需要显式声明。而在Verilog中，模块定义更为简洁，端口类型和方向直接在模块声明中定义。</p>
<blockquote>
<p>注意在 VHDL 中，library 和 use 声明是用来引入外部定义的包和库，这些包和库提供了额外的数据类型、子程序和功能，以便在设计中使用。</p>
<p><code>ieee.std_logic_1164</code> 和 <code>ieee.numeric_std</code> 是非常常用的包。</p>
</blockquote>
<p><code>ieee.std_logic_1164</code> 非常重要，它定义了 <code>std_logic</code> 类型，这是 VHDL 中最常用的数据类型之一，用于表示数字逻辑的单个位。</p>
<p><code>std_logic</code> 类型是一个枚举类型，包含 'U', 'X', '0', '1', 'Z', 'W', 'L', 'H', '-' 等值，分别代表未初始化、强制未知、强制为0、强制为1、高阻态、弱未知、弱0、弱1 和不关心。此包还包括多位版本<code>std_logic_vector</code>。</p>
<p>Verilog模块声明中的wire可省略，完整的写法如下：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">Counter</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">clk</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">reset</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">count</span>
<span class="p">);</span>
</code></pre></div></td></tr></table></div>

<h3 id="_8">信号赋值</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">(</span><span class="k">others</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span><span class="w"> </span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>

<p>在VHDL中，信号赋值通常发生在过程（process）块内，使用条件语句来检测时钟边沿和重置条件。Verilog使用always块来描述类似的行为，语法更接近于传统的编程语言如C。</p>
<p>在VHDL中，<strong>上升沿和下降沿</strong> 分别用 <code>rising_edge</code>和<code>falling_edge</code>检测；在Verilog中，<code>posedge</code>和<code>negedge</code>两个关键字直接在always块的敏感列表中使用。</p>
<h3 id="_9">位宽与向量操作</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">signal</span><span class="w"> </span><span class="n">my_vector</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">STD_LOGIC_VECTOR</span><span class="p">(</span><span class="mi">7</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="n">my_vector</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;00001111&quot;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">my_vector</span><span class="p">;</span>
<span class="n">my_vector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00001111</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<p>VHDL和Verilog都支持向量操作，但是在VHDL中，向量的位宽和方向需要明确指定（例如7 downto 0表示从高位到低位）。Verilog中的位宽声明更加类似于C语言数组的声明方式。</p>
<p>对于常量，列个表格：</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>VHDL 示例</th>
<th>Verilog 示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>整数</td>
<td><code>123</code></td>
<td><code>123</code></td>
</tr>
<tr>
<td>二进制</td>
<td><code>b"1010"</code></td>
<td><code>4'b1010</code></td>
</tr>
<tr>
<td>八进制</td>
<td><code>o"12"</code></td>
<td><code>3'o12</code></td>
</tr>
<tr>
<td>十六进制</td>
<td><code>x"1A"</code></td>
<td><code>8'h1A</code></td>
</tr>
<tr>
<td>逻辑向量</td>
<td><code>std_logic_vector'(b"1010")</code></td>
<td><code>4'b1010</code></td>
</tr>
<tr>
<td>字符</td>
<td><code>'A'</code></td>
<td>(不适用)</td>
</tr>
<tr>
<td>字符串</td>
<td><code>"Hello"</code></td>
<td><code>"Hello"</code></td>
</tr>
<tr>
<td>实数</td>
<td><code>1.23</code></td>
<td><code>1.23</code></td>
</tr>
<tr>
<td>定义带基数的整数</td>
<td><code>16#1A#</code></td>
<td><code>8'h1A</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>在 Verilog 中，数值常量前的数字（如 3'o12 中的 3）表示该常量的位宽。3'o12 表示一个 3 位宽的八进制数 12。12在二进制下是1010，但由于这里指定了只有 3 位宽，所以会截取最低的三位，即 010。这样，3'o12 在二进制下实际上表示的是 010。</p>
</blockquote>
<h3 id="_10">条件判断</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">process</span><span class="p">(</span><span class="k">all</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">)</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>

<p>VHDL使用=作为等于操作符，而Verilog使用==。此外，Verilog明确要求位宽和基数（如1'b1表示一个位的二进制1），而VHDL则相对更灵活。</p>
<h3 id="_11">循环控制</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">process</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="k">loop</span>
<span class="w">        </span><span class="n">my_array</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">loop</span><span class="p">;</span>
<span class="w">    </span><span class="k">wait</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">integer</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">7</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">)</span>
<span class="w">        </span><span class="n">my_array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>

<p>在VHDL中，循环通常用于过程（process）中，loop语句用于迭代。Verilog的循环语法使用for循环。</p>
<blockquote>
<p>注意while循环也是存在的，但是不适用于综合，只用于仿真。</p>
</blockquote>
<h3 id="_12">函数和过程</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="n">add_two_numbers</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">integer</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">function</span><span class="p">;</span>

<span class="c1">-- 使用</span>
<span class="k">signal</span><span class="w"> </span><span class="n">result</span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">;</span>
<span class="n">result</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">add_two_numbers</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="k">integer</span><span class="w"> </span><span class="n">add_two_numbers</span><span class="p">;</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="k">integer</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">begin</span>
<span class="w">    </span><span class="n">add_two_numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">end</span>
<span class="k">endfunction</span>

<span class="c1">// 使用</span>
<span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">31</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add_two_numbers</span><span class="p">(</span><span class="mh">5</span><span class="p">,</span><span class="w"> </span><span class="mh">3</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>

<p>VHDL中的函数定义比较形式化，包括详细的参数和返回类型说明。Verilog的函数定义语法上更为紧凑，函数的使用和C语言类似。</p>
<h3 id="_13">模块实例化</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">entity</span><span class="w"> </span><span class="nc">Adder</span><span class="w"> </span><span class="k">is</span>
<span class="w">    </span><span class="k">Port</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">INTEGER</span><span class="p">;</span>
<span class="w">           </span><span class="n">B</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">INTEGER</span><span class="p">;</span>
<span class="w">           </span><span class="n">Sum</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">INTEGER</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">Adder</span><span class="p">;</span>

<span class="k">architecture</span><span class="w"> </span><span class="nc">Behavioral</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">Adder</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">    </span><span class="n">Sum</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="nc">Behavioral</span><span class="p">;</span>

<span class="c1">-- 实例化</span>
<span class="k">signal</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">INTEGER</span><span class="p">;</span>
<span class="k">begin</span>
<span class="w">    </span><span class="n">u_adder</span><span class="o">:</span><span class="w"> </span><span class="k">entity</span><span class="w"> </span><span class="nc">work</span><span class="p">.</span><span class="n">Adder</span>
<span class="w">        </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">Sum</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">Adder</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="k">integer</span><span class="w"> </span><span class="n">A</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="k">integer</span><span class="w"> </span><span class="n">B</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="k">integer</span><span class="w"> </span><span class="n">Sum</span>
<span class="p">);</span>
<span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">Sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">;</span>
<span class="k">endmodule</span>

<span class="c1">// 实例化</span>
<span class="k">integer</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">sum</span><span class="p">;</span>
<span class="n">Adder</span><span class="w"> </span><span class="n">u_adder</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">.</span><span class="n">A</span><span class="p">(</span><span class="n">a</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">B</span><span class="p">(</span><span class="n">b</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></td></tr></table></div>

<p>在VHDL中，模块实例化需要明确指出实体和架构，通过port map来映射端口。Verilog端口连接通过<code>.</code>语法直接指定。</p>
<h3 id="_14">时序控制</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="n">reg</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">data_in</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">en</span><span class="p">)</span>
<span class="w">        </span><span class="kt">reg</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">data_in</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>

<p>VHDL使用rising_edge函数来明确指示时钟上升沿，而Verilog直接在always块的敏感列表中使用posedge。</p>
<h3 id="_15">使用数组</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="n">my_array_type</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">INTEGER</span><span class="p">;</span>
<span class="k">signal</span><span class="w"> </span><span class="n">my_array</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">my_array_type</span><span class="p">;</span>
<span class="k">begin</span>
<span class="w">    </span><span class="n">my_array</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- 其他元素初始化</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">31</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">my_array</span><span class="w"> </span><span class="p">[</span><span class="mh">0</span><span class="o">:</span><span class="mh">7</span><span class="p">];</span>
<span class="k">initial</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">my_array</span><span class="p">[</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">10</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// 其他元素初始化</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>

<p>在VHDL中，定义数组类型需要先声明一个类型，然后使用该类型定义信号或变量。Verilog则直接在变量声明时指定数组大小和位宽。</p>
<h3 id="_16">描述复杂逻辑</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">process</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">assign</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<p>在描述复杂的逻辑运算时，VHDL往往需要更多的结构化代码，如process块和明确的条件语句。Verilog可以使用更简洁的表达式，如使用逻辑运算符（<code>&amp;</code>代表AND，<code>|</code>代表OR）</p>
<blockquote>
<p>verilog中，assign语句用于执行连续赋值。如果不用assign，就需要用always块。</p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@</span><span class="o">*</span><span class="w"> </span><span class="k">begin</span>
<span class="w">     </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>

<h3 id="_17">参数化模块</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">entity</span><span class="w"> </span><span class="nc">GenericAdder</span><span class="w"> </span><span class="k">is</span>
<span class="w">    </span><span class="k">generic</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">WIDTH</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">port</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">WIDTH</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">           </span><span class="n">B</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">WIDTH</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">           </span><span class="n">Sum</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">WIDTH</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">GenericAdder</span><span class="p">;</span>

<span class="k">architecture</span><span class="w"> </span><span class="nc">Behavioral</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">GenericAdder</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">    </span><span class="n">Sum</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="nc">Behavioral</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">GenericAdder</span><span class="w"> </span><span class="p">#(</span><span class="k">parameter</span><span class="w"> </span><span class="n">WIDTH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="n">WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">A</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="n">WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">B</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="n">WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">Sum</span>
<span class="p">);</span>
<span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">Sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">;</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>

<p>参数化模块（泛型）在VHDL中通过generic关键字实现，允许在实例化时定制属性。Verilog使用parameter关键字，语法更接近于C语言的模板或宏定义</p>
<h3 id="_18">状态机实现</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="n">state_type</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="p">(</span><span class="n">IDLE</span><span class="p">,</span><span class="w"> </span><span class="n">WORKING</span><span class="p">,</span><span class="w"> </span><span class="n">DONE</span><span class="p">);</span>
<span class="k">signal</span><span class="w"> </span><span class="n">current_state</span><span class="p">,</span><span class="w"> </span><span class="n">next_state</span><span class="o">:</span><span class="w"> </span><span class="n">state_type</span><span class="p">;</span>

<span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="n">current_state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">next_state</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>

<span class="k">process</span><span class="p">(</span><span class="n">current_state</span><span class="p">,</span><span class="w"> </span><span class="n">input_signal</span><span class="p">)</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">current_state</span><span class="w"> </span><span class="k">is</span>
<span class="w">        </span><span class="k">when</span><span class="w"> </span><span class="n">IDLE</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">input_signal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="n">next_state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">WORKING</span><span class="p">;</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="n">next_state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">            </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="w">        </span><span class="k">when</span><span class="w"> </span><span class="n">WORKING</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">            </span><span class="n">next_state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">DONE</span><span class="p">;</span>
<span class="w">        </span><span class="k">when</span><span class="w"> </span><span class="n">DONE</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">            </span><span class="n">next_state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">        </span><span class="k">when</span><span class="w"> </span><span class="k">others</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">            </span><span class="n">next_state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">case</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="n">IDLE</span><span class="p">,</span><span class="w"> </span><span class="n">WORKING</span><span class="p">,</span><span class="w"> </span><span class="n">DONE</span><span class="p">}</span><span class="w"> </span><span class="n">state_type</span><span class="p">;</span>
<span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">current_state</span><span class="p">,</span><span class="w"> </span><span class="n">next_state</span><span class="p">;</span>

<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">current_state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">next_state</span><span class="p">;</span>
<span class="k">end</span>

<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">current_state</span><span class="p">)</span>
<span class="w">        </span><span class="nl">IDLE:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input_signal</span><span class="p">)</span>
<span class="w">                </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WORKING</span><span class="p">;</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">        </span><span class="nl">WORKING:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DONE</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">        </span><span class="nl">DONE:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">    </span><span class="k">endcase</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>

<p>VHDL中使用type来定义状态类型，而Verilog使用enum。两者都使用条件语句来描述状态转移</p>
<h3 id="_19">寄存器组的定义和使用</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="n">reg_array</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">7</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="k">signal</span><span class="w"> </span><span class="n">registers</span><span class="o">:</span><span class="w"> </span><span class="n">reg_array</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">registers</span><span class="w"> </span><span class="p">[</span><span class="mh">0</span><span class="o">:</span><span class="mh">7</span><span class="p">];</span>
</code></pre></div></td></tr></table></div>

<p>定义一组寄存器时，VHDL需要定义一个数组类型然后声明一个信号，而Verilog直接在寄存器声明中定义数组大小和位宽。</p>
<h3 id="_20">触发器实现</h3>
<ul>
<li>VHDL</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">library</span><span class="w"> </span><span class="nn">IEEE</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">IEEE.STD_LOGIC_1164.</span><span class="k">ALL</span><span class="p">;</span>

<span class="k">entity</span><span class="w"> </span><span class="nc">DFF</span><span class="w"> </span><span class="k">is</span>
<span class="w">    </span><span class="k">Port</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">           </span><span class="n">CLK</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">           </span><span class="n">Q</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">DFF</span><span class="p">;</span>

<span class="k">architecture</span><span class="w"> </span><span class="nc">Behavioral</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">DFF</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">    </span><span class="k">process</span><span class="p">(</span><span class="n">CLK</span><span class="p">)</span>
<span class="w">    </span><span class="k">begin</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">(</span><span class="n">CLK</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="n">Q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">D</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="nc">Behavioral</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>

<ul>
<li>Verilog</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">DFF</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">D</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">CLK</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="n">Q</span>
<span class="p">);</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">CLK</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="n">Q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">D</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>

<p>触发器是数字电路中的基本构件。在VHDL和Verilog中都使用了对应的时钟边缘检测机制来描述触发器的行为。Verilog的代码更简洁。</p>
<h2 id="systemverilog">SystemVerilog</h2>
<p>先列个表格，后面慢慢了解</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>Verilog</th>
<th>SystemVerilog</th>
</tr>
</thead>
<tbody>
<tr>
<td>语言范围</td>
<td>硬件描述语言（HDL）</td>
<td>硬件描述语言 + 硬件验证语言（HVL）</td>
</tr>
<tr>
<td>数据类型</td>
<td><code>reg</code>, <code>wire</code> 等基本类型</td>
<td>增加<code>logic</code>, <code>bit</code>, <code>enum</code>, <code>struct</code> 等</td>
</tr>
<tr>
<td>接口</td>
<td>使用端口连接模块</td>
<td>引入 <code>interface</code>，简化模块连接</td>
</tr>
<tr>
<td>抽象层次</td>
<td>RTL 和行为级建模</td>
<td>支持更高级的抽象如 TLM</td>
</tr>
<tr>
<td>类和对象</td>
<td>不支持面向对象编程</td>
<td>支持类和对象，具备 OOP 特性</td>
</tr>
<tr>
<td>随机化</td>
<td>无内置随机化功能</td>
<td>提供随机化和约束机制</td>
</tr>
<tr>
<td>约束和断言</td>
<td>无直接支持</td>
<td>引入断言和约束用于验证</td>
</tr>
<tr>
<td>并行处理</td>
<td>使用 <code>fork-join</code></td>
<td>增强的并行处理，如 <code>fork-join_any</code></td>
</tr>
<tr>
<td>模块</td>
<td>支持模块（module）</td>
<td>还引入了 <code>program</code> 块</td>
</tr>
<tr>
<td>覆盖</td>
<td>无覆盖率收集机制</td>
<td>支持代码和功能覆盖</td>
</tr>
</tbody>
</table></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        Debao Zhang
    </span>
  </span>
<time datetime="2024-05-23T20:01:00+08:00" pubdate>Thu 23 May 2024</time>  <span class="categories">
    <a class='category' href='https://blog.debao.me/categories/ee.html'>EE</a>
  </span>
  <span class="categories">
    <a class="category" href="https://blog.debao.me/tags/fpga.html">FPGA</a>  </span>
</p><div class="sharing">
</div>    </footer>
  </article>

</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://blog.debao.me/2025/02/notes-on-bpm/">BPM 小记</a>
      </li>
      <li class="post">
          <a href="https://blog.debao.me/2025/01/a-brief-note-on-semiconductor-memory-terminology/">半导体存储器术语小记</a>
      </li>
      <li class="post">
          <a href="https://blog.debao.me/2025/01/notes-on-yizhuang-bda-and-e-town/">亦庄、经开区、亦庄新城备忘</a>
      </li>
      <li class="post">
          <a href="https://blog.debao.me/2025/01/freecad-learning-notes-2/">FreeCAD学习小记（二）</a>
      </li>
      <li class="post">
          <a href="https://blog.debao.me/2025/01/what-is-document-no.-37/">37号文是个啥？</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://blog.debao.me/categories/c.html">C++</a></li>
        <li><a href="https://blog.debao.me/categories/cax.html">CAx</a></li>
        <li><a href="https://blog.debao.me/categories/ee.html">EE</a></li>
        <li><a href="https://blog.debao.me/categories/esl.html">ESL</a></li>
        <li><a href="https://blog.debao.me/categories/javascript.html">JavaScript</a></li>
        <li><a href="https://blog.debao.me/categories/legal.html">Legal</a></li>
        <li><a href="https://blog.debao.me/categories/python.html">Python</a></li>
        <li><a href="https://blog.debao.me/categories/qt.html">Qt</a></li>
        <li><a href="https://blog.debao.me/categories/science.html">Science</a></li>
        <li><a href="https://blog.debao.me/categories/sem.html">SEM</a></li>
        <li><a href="https://blog.debao.me/categories/tools.html">Tools</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="https://blog.debao.me/tags/python.html">Python</a>,    <a href="https://blog.debao.me/tags/pyside.html">pyside</a>,    <a href="https://blog.debao.me/tags/qt.html">Qt</a>,    <a href="https://blog.debao.me/tags/c.html">C++</a>,    <a href="https://blog.debao.me/tags/pelican.html">pelican</a>,    <a href="https://blog.debao.me/tags/vtk.html">vtk</a>,    <a href="https://blog.debao.me/tags/sem.html">SEM</a>,    <a href="https://blog.debao.me/tags/cmake.html">cmake</a>,    <a href="https://blog.debao.me/tags/qmake.html">qmake</a>,    <a href="https://blog.debao.me/tags/cax.html">CAx</a>,    <a href="https://blog.debao.me/tags/latex.html">latex</a>,    <a href="https://blog.debao.me/tags/markdown.html">markdown</a>,    <a href="https://blog.debao.me/tags/pandoc.html">pandoc</a>,    <a href="https://blog.debao.me/tags/katex.html">katex</a>,    <a href="https://blog.debao.me/tags/vscode.html">vscode</a>,    <a href="https://blog.debao.me/tags/cad.html">cad</a>,    <a href="https://blog.debao.me/tags/stm32.html">STM32</a>,    <a href="https://blog.debao.me/tags/git.html">Git</a>,    <a href="https://blog.debao.me/tags/arm.html">ARM</a>,    <a href="https://blog.debao.me/tags/fpga.html">FPGA</a>,    <a href="https://blog.debao.me/tags/questa.html">Questa</a>,    <a href="https://blog.debao.me/tags/quartus.html">Quartus</a>,    <a href="https://blog.debao.me/tags/eda.html">EDA</a>,    <a href="https://blog.debao.me/tags/opengl.html">opengl</a>,    <a href="https://blog.debao.me/tags/coroutine.html">coroutine</a>,    <a href="https://blog.debao.me/tags/ui.html">ui</a>,    <a href="https://blog.debao.me/tags/javascript.html">javascript</a>,    <a href="https://blog.debao.me/tags/nodejs.html">nodejs</a>,    <a href="https://blog.debao.me/tags/web.html">web</a>,    <a href="https://blog.debao.me/tags/crypto.html">crypto</a>,    <a href="https://blog.debao.me/tags/rsa.html">rsa</a>,    <a href="https://blog.debao.me/tags/der.html">der</a>,    <a href="https://blog.debao.me/tags/openssl.html">openssl</a>,    <a href="https://blog.debao.me/tags/css.html">css</a>,    <a href="https://blog.debao.me/tags/scss.html">scss</a>,    <a href="https://blog.debao.me/tags/ci.html">CI</a>,    <a href="https://blog.debao.me/tags/github.html">github</a>,    <a href="https://blog.debao.me/tags/gitlab.html">gitlab</a>,    <a href="https://blog.debao.me/tags/joomla.html">Joomla</a>,    <a href="https://blog.debao.me/tags/qthread.html">QThread</a>,    <a href="https://blog.debao.me/tags/sdl.html">SDL</a>,    <a href="https://blog.debao.me/tags/qt-macros.html">Qt-Macros</a>,    <a href="https://blog.debao.me/tags/octopress.html">octopress</a>,    <a href="https://blog.debao.me/tags/qt4.html">Qt4</a>  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="https://blog.debao.me/feeds/atom.xml" type="application/atom+xml" rel="alternate">Atom</a></li>
            <li><a href="https://github.com/dbzhang800" target="_blank">github</a></li>
            <li><a href="https://www.zhihu.com/people/dbzhang800" target="_blank">zhihu</a></li>
            <li><a href="https://blog.csdn.net/dbzhang800" target="_blank">csdn</a></li>
        </ul>
    </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2010&ndash;2025  Debao Zhang &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="https://blog.debao.me/theme/js/modernizr-2.0.js"></script>
  <script src="https://blog.debao.me/theme/js/ender.js"></script>
  <script src="https://blog.debao.me/theme/js/octopress.js" type="text/javascript"></script>
</body>
</html>